
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to pyR2’s documentation! &#8212; pyR2 v0.1 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">pyR2 v0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-pyr2-s-documentation">
<h1>Welcome to pyR2’s documentation!<a class="headerlink" href="#welcome-to-pyr2-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-api.R2"></span><p>Created on Wed May 30 16:48:54 2018</p>
<p>&#64;author: jkl</p>
<dl class="class">
<dt id="api.R2.R2">
<em class="property">class </em><code class="descclassname">api.R2.</code><code class="descname">R2</code><span class="sig-paren">(</span><em>dirname=''</em>, <em>typ='R2'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2" title="Permalink to this definition">¶</a></dt>
<dd><p>Master class to handle all processing around the inversion codes.</p>
<dl class="method">
<dt id="api.R2.R2.addRegion">
<code class="descname">addRegion</code><span class="sig-paren">(</span><em>xy</em>, <em>res0=100</em>, <em>phase0=2</em>, <em>blocky=False</em>, <em>fixed=False</em>, <em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.addRegion" title="Permalink to this definition">¶</a></dt>
<dd><p>Add region according to a polyline defined by <cite>xy</cite> and assign it
the starting resistivity <cite>res0</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xy</strong> : array</p>
<blockquote>
<div><p>Array with two columns for the x and y coordinates.</p>
</div></blockquote>
<p><strong>res0</strong> : float, optional</p>
<blockquote>
<div><p>Resistivity values of the defined area.</p>
</div></blockquote>
<p><strong>phase0</strong> : float, optional</p>
<blockquote>
<div><p>Read only if you choose the cR2 option. Phase value of the defined
area in mrad</p>
</div></blockquote>
<p><strong>blocky</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite> the boundary of the region will be blocky if inversion
is block inversion.</p>
</div></blockquote>
<p><strong>fixed</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, the inversion will keep the starting resistivity of this
region.</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib.axes.Axes</p>
<blockquote class="last">
<div><p>If not <cite>None</cite>, the region will be plotted against this axes.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.assignRes0">
<code class="descname">assignRes0</code><span class="sig-paren">(</span><em>regionValues={}</em>, <em>zoneValues={}</em>, <em>fixedValues={}</em>, <em>ipValues={}</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.assignRes0" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign starting resitivity values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>regionValues</strong> : dict</p>
<blockquote>
<div><p>Dictionnary with key being the region number and the value being
the resistivity in [Ohm.m].</p>
</div></blockquote>
<p><strong>zoneValues</strong> : dict</p>
<blockquote>
<div><p>Dictionnary with key being the region number and the zone number.
There would be no smoothing between the zones if ‘block inversion’
is selected (<cite>inversion_type</cite> = 4).</p>
</div></blockquote>
<p><strong>fixedValues</strong> : dict</p>
<blockquote>
<div><p>Dictionnary with key being the region number and a boolean value if
we want to fix the resistivity of the zone to the starting one.
Note that it only works for triangular mesh for now.</p>
</div></blockquote>
<p><strong>ipValues</strong> : dict</p>
<blockquote class="last">
<div><p>Dictionnary with key being the region number and the values beeing
the phase [mrad].</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.computeModelError">
<code class="descname">computeModelError</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.computeModelError" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute modelling error due to the mesh.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createBatchSurvey">
<code class="descname">createBatchSurvey</code><span class="sig-paren">(</span><em>dirname</em>, <em>ftype='Syscal'</em>, <em>info={}</em>, <em>spacing=None</em>, <em>parser=None</em>, <em>isurveys=[]</em>, <em>dump=&lt;built-in function print&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createBatchSurvey" title="Permalink to this definition">¶</a></dt>
<dd><p>Read multiples files from a folders (sorted by alphabetical order).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : str</p>
<blockquote>
<div><p>Filename to be parsed.</p>
</div></blockquote>
<p><strong>ftype</strong> : str, optional</p>
<blockquote>
<div><p>Type of file to be parsed. Either ‘Syscal’ or ‘Protocol’.</p>
</div></blockquote>
<p><strong>info</strong> : dict, optional</p>
<blockquote>
<div><p>Dictionnary of info about the survey.</p>
</div></blockquote>
<p><strong>spacing</strong> : float, optional</p>
<blockquote>
<div><p>Electrode spacing to be passed to the parser function.</p>
</div></blockquote>
<p><strong>parser</strong> : function, optional</p>
<blockquote>
<div><p>A parser function to be passed to <cite>Survey</cite> constructor.</p>
</div></blockquote>
<p><strong>isurveys</strong> : list, optional</p>
<blockquote>
<div><p>List of surveys index that will be used for error modelling and so
reciprocal measurements. By default all surveys are used.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote class="last">
<div><p>Function to dump the information message when importing the files.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createMesh">
<code class="descname">createMesh</code><span class="sig-paren">(</span><em>typ='default'</em>, <em>buried=None</em>, <em>surface=None</em>, <em>cl_factor=2</em>, <em>cl=-1</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mesh.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>typ</strong> : str, optional</p>
<blockquote>
<div><p>Type of mesh. Eithter ‘quad’ or ‘trian’. If no topography, ‘quad’
mesh will be chosen.</p>
</div></blockquote>
<p><strong>buried</strong> : numpy.array, optional</p>
<blockquote>
<div><p>Boolean array of electrodes that are buried. Should be the same
length as <cite>R2.elec</cite></p>
</div></blockquote>
<p><strong>surface</strong> : numpy.array, optional</p>
<blockquote>
<div><p>Array with two columns x and y for additional surface points.</p>
</div></blockquote>
<p><strong>cl_factor</strong> : float, optional</p>
<blockquote>
<div><p>Characteristic length factor. Only used for triangular mesh to allow
mesh to be refined close the electrodes and then expand.</p>
</div></blockquote>
<p><strong>cl</strong> : float, optional</p>
<blockquote>
<div><p>Characteristic length that define the mesh size around the
electrodes.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>Function to which pass the output during mesh generation. <cite>print()</cite></dt>
<dd><p class="first last">is the default.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createModel">
<code class="descname">createModel</code><span class="sig-paren">(</span><em>ax=None</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>typ='poly'</em>, <em>addAction=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Interactive model creation for forward modelling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib.axes.Axes, optional</p>
<blockquote>
<div><p>Axes to which the graph will be plotted.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote>
<div><p>Function that outputs messages from the interactive model creation.</p>
</div></blockquote>
<p><strong>typ</strong> : str</p>
<blockquote>
<div><p>Type of selection either <cite>poly</cite> for polyline or <cite>rect</cite> for
rectangle.</p>
</div></blockquote>
<p><strong>addAction</strong> : function</p>
<blockquote>
<div><p>Function to be called once the selection is finished (design for
GUI purpose).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib.figure</p>
<blockquote class="last">
<div><p>If <cite>ax</cite> is <cite>None</cite>, will return a figure.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createSequence">
<code class="descname">createSequence</code><span class="sig-paren">(</span><em>skipDepths=[(0, 10)]</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dipole-dipole sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>skipDepths</strong> : list of tuple, optional</p>
<blockquote class="last">
<div><p>Each tuple in the list is of the form <cite>(skip, depths)</cite>. The <cite>skip</cite> is the number of electrode between the A B and M N electrode. The <cite>depths</cite> is the number of quadrupole which will have the same current electrode (same A B). The higher this number, the deeper the investigation.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createSurvey">
<code class="descname">createSurvey</code><span class="sig-paren">(</span><em>fname=''</em>, <em>ftype='Syscal'</em>, <em>info={}</em>, <em>spacing=None</em>, <em>parser=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createSurvey" title="Permalink to this definition">¶</a></dt>
<dd><p>Read electrodes and quadrupoles data and return 
a survey object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : str</p>
<blockquote>
<div><p>Filename to be parsed.</p>
</div></blockquote>
<p><strong>ftype</strong> : str, optional</p>
<blockquote>
<div><p>Type of file to be parsed. Either ‘Syscal’ or ‘Protocol’.</p>
</div></blockquote>
<p><strong>info</strong> : dict, optional</p>
<blockquote>
<div><p>Dictionnary of info about the survey.</p>
</div></blockquote>
<p><strong>spacing</strong> : float, optional</p>
<blockquote>
<div><p>Electrode spacing to be passed to the parser function.</p>
</div></blockquote>
<p><strong>parser</strong> : function, optional</p>
<blockquote class="last">
<div><p>A parser function to be passed to <cite>Survey</cite> constructor.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createTimeLapseSurvey">
<code class="descname">createTimeLapseSurvey</code><span class="sig-paren">(</span><em>dirname</em>, <em>ftype='Syscal'</em>, <em>info={}</em>, <em>spacing=None</em>, <em>parser=None</em>, <em>isurveys=[]</em>, <em>dump=&lt;built-in function print&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createTimeLapseSurvey" title="Permalink to this definition">¶</a></dt>
<dd><p>Read electrodes and quadrupoles data and return 
a survey object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : str</p>
<blockquote>
<div><p>Filename to be parsed.</p>
</div></blockquote>
<p><strong>ftype</strong> : str, optional</p>
<blockquote>
<div><p>Type of file to be parsed. Either ‘Syscal’ or ‘Protocol’.</p>
</div></blockquote>
<p><strong>info</strong> : dict, optional</p>
<blockquote>
<div><p>Dictionnary of info about the survey.</p>
</div></blockquote>
<p><strong>spacing</strong> : float, optional</p>
<blockquote>
<div><p>Electrode spacing to be passed to the parser function.</p>
</div></blockquote>
<p><strong>parser</strong> : function, optional</p>
<blockquote>
<div><p>A parser function to be passed to <cite>Survey</cite> constructor.</p>
</div></blockquote>
<p><strong>isurveys</strong> : list, optional</p>
<blockquote>
<div><p>List of surveys index that will be used for error modelling and so
reciprocal measurements. By default all surveys are used.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote class="last">
<div><p>Function to dump information message when importing the files.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.forward">
<code class="descname">forward</code><span class="sig-paren">(</span><em>noise=0.0</em>, <em>iplot=False</em>, <em>dump=&lt;built-in function print&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Operates forward modelling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>noise</strong> : float, optional 0 &lt;= noise &lt;= 1</p>
<blockquote>
<div><p>Noise level from a Gaussian distribution that should be applied
on the forward apparent resistivities obtained.</p>
</div></blockquote>
<p><strong>iplot</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite> will plot the pseudo section after the forward modelling.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote class="last">
<div><p>Function to print information messages when running the forward model.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.getResults">
<code class="descname">getResults</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.getResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect inverted results after running the inversion and adding
them to <cite>R2.meshResults</cite> list.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.importElec">
<code class="descname">importElec</code><span class="sig-paren">(</span><em>fname=''</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.importElec" title="Permalink to this definition">¶</a></dt>
<dd><p>Import electrodes positions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : str</p>
<blockquote class="last">
<div><p>Path of the CSV file containing the electrodes positions. It should contains 3 columns maximum with the X, Y, Z positions of the electrodes.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.importSequence">
<code class="descname">importSequence</code><span class="sig-paren">(</span><em>fname=''</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.importSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Import sequence for forward modelling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : str</p>
<blockquote class="last">
<div><p>Path of the CSV file to be imported. The file shouldn’t have any headers just 4 columns with the 4 electrodes numbers.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.invert">
<code class="descname">invert</code><span class="sig-paren">(</span><em>param={}</em>, <em>iplot=False</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>modErr=False</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert the data, first generate R2.in file, then run
inversion using appropriate wrapper, then return results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>param</strong> : dict, optional</p>
<blockquote>
<div><p>Dictionary of parameters for inversion. Will be passed to
<cite>R2.write2in()</cite>.</p>
</div></blockquote>
<p><strong>iplot</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, will plot the results of the inversion using
<cite>R2.showResults()</cite>.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optinal</p>
<blockquote class="last">
<div><p>Function to print the output of the inversion. To be passed to 
<cite>R2.runR2()</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.pseudoError">
<code class="descname">pseudoError</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.pseudoError" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pseudo section of errors from file <cite>f001_err.dat</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis</p>
<blockquote class="last">
<div><p>If specified, the graph will be plotted against <cite>ax</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.resetRegions">
<code class="descname">resetRegions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.resetRegions" title="Permalink to this definition">¶</a></dt>
<dd><p>Just reset all regions already draw. Shouldn’t be needed as 
the <cite>self.runR2()</cite> automatically use a homogenous model as starting
for inversion. The only purpose of this is to use an inhomogeous
starting model to invert data from forward modelling.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.runR2">
<code class="descname">runR2</code><span class="sig-paren">(</span><em>dirname=''</em>, <em>dump=&lt;built-in function print&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.runR2" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the executable in charge of the inversion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dirname</strong> : str, optional</p>
<blockquote>
<div><p>Path of the directory where to run the inversion code.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote class="last">
<div><p>Function to print the output of the invrsion code while running.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.saveInvPlots">
<code class="descname">saveInvPlots</code><span class="sig-paren">(</span><em>outputdir=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.saveInvPlots" title="Permalink to this definition">¶</a></dt>
<dd><p>Save all plots to output (or working directory). Parameters
are passed to the <cite>showResults()</cite> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outputdir</strong> : str, optional</p>
<blockquote class="last">
<div><p>Path of the output directory. Default is the working directory.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.setBorehole">
<code class="descname">setBorehole</code><span class="sig-paren">(</span><em>val=False</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.setBorehole" title="Permalink to this definition">¶</a></dt>
<dd><p>Set all surveys in borehole type if <cite>True</cite> is passed.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.setwd">
<code class="descname">setwd</code><span class="sig-paren">(</span><em>dirname</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.setwd" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the working directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dirname</strong> : str</p>
<blockquote class="last">
<div><p>Path of the working directory.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showInversionErrors">
<code class="descname">showInversionErrors</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showInversionErrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Display inversion error by measurment numbers.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showIter">
<code class="descname">showIter</code><span class="sig-paren">(</span><em>index=-1</em>, <em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showIter" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispay temporary inverted section after each iteration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> : int, optional</p>
<blockquote>
<div><p>Iteration number to show.</p>
</div></blockquote>
<p><strong>ax</strong> : matplotib axis, optional</p>
<blockquote class="last">
<div><p>If specified, the graph will be plotted along <cite>ax</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showMesh">
<code class="descname">showMesh</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the mesh.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showResults">
<code class="descname">showResults</code><span class="sig-paren">(</span><em>index=0</em>, <em>ax=None</em>, <em>edge_color='none'</em>, <em>attr=''</em>, <em>sens=True</em>, <em>color_map='viridis'</em>, <em>ylim=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the inverteds section.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> : int, optional</p>
<blockquote>
<div><p>Index of the inverted section (mainly in the case of time-lapse
inversion)</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, the inverted graph will be plotted agains <cite>ax</cite>.</p>
</div></blockquote>
<p><strong>edge_color</strong> : str, optional</p>
<blockquote>
<div><p>Color of the edges of the mesh.</p>
</div></blockquote>
<p><strong>attr</strong> : str, optional</p>
<blockquote>
<div><p>Name of the attribute to be plotted.</p>
</div></blockquote>
<p><strong>sens</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite> and if sensitivity is available, it will be plotted as
a white transparent shade on top of the inverted section.</p>
</div></blockquote>
<p><strong>color_map</strong> : str, optional</p>
<blockquote class="last">
<div><p>Name of the colormap to be used.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showSection">
<code class="descname">showSection</code><span class="sig-paren">(</span><em>fname=''</em>, <em>ax=None</em>, <em>ilog10=True</em>, <em>isen=False</em>, <em>figsize=(8</em>, <em>3)</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Show inverted section based on the <cite>_res.dat``file instead of the
`.vtk</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : str, optional</p>
<blockquote>
<div><p>Name of the inverted <cite>.dat</cite> file produced by the inversion.</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, the graph will be plotted along <cite>ax</cite>.</p>
</div></blockquote>
<p><strong>ilog10</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, the log10 of the resistivity will be used.</p>
</div></blockquote>
<p><strong>isen</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, sensitivity will be displayed as white transparent
shade on top of the inverted section.</p>
</div></blockquote>
<p><strong>figsize</strong> : tuple, optional</p>
<blockquote class="last">
<div><p>Size of the figure.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.write2in">
<code class="descname">write2in</code><span class="sig-paren">(</span><em>param={}</em>, <em>typ=''</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.write2in" title="Permalink to this definition">¶</a></dt>
<dd><p>Create configuration file for inversion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>param</strong> : dict</p>
<blockquote>
<div><p>Dictionnary of parameters and values for the inversion settings.</p>
</div></blockquote>
<p><strong>typ</strong> : str, optional</p>
<blockquote class="last">
<div><p>Type of inversion. By default given by <cite>R2.typ</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.write2protocol">
<code class="descname">write2protocol</code><span class="sig-paren">(</span><em>errTyp=''</em>, <em>errTypIP=''</em>, <em>errTot=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.write2protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a protocol.dat file for the inversion code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>errTyp</strong> : str</p>
<blockquote>
<div><p>Type of the DC error. Either ‘pwl’, ‘lin’, ‘obs’.</p>
</div></blockquote>
<p><strong>errTypIP</strong> : str</p>
<blockquote class="last">
<div><p>Type of the IP error. Either ‘pwl’.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-api.Survey"></span><p>Created on Fri Jun  1 11:21:54 2018</p>
<p>&#64;author: jkl</p>
<dl class="class">
<dt id="api.Survey.Survey">
<em class="property">class </em><code class="descclassname">api.Survey.</code><code class="descname">Survey</code><span class="sig-paren">(</span><em>fname</em>, <em>ftype=''</em>, <em>name=''</em>, <em>spacing=None</em>, <em>parser=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that handles geophysical data and some basic functions. One 
instance is created for each survey.</p>
<dl class="method">
<dt id="api.Survey.Survey.addData">
<code class="descname">addData</code><span class="sig-paren">(</span><em>fname</em>, <em>ftype='Syscal'</em>, <em>spacing=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.addData" title="Permalink to this definition">¶</a></dt>
<dd><p>Add data to the actual survey (for instance the reciprocal if they
are not in the same file).</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.addFilteredIP">
<code class="descname">addFilteredIP</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.addFilteredIP" title="Permalink to this definition">¶</a></dt>
<dd><p>Add filtered IP data after IP filtering and pre-processing.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.basicFilter">
<code class="descname">basicFilter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.basicFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove NaN and Inf values in the data.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.checkTxSign">
<code class="descname">checkTxSign</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.checkTxSign" title="Permalink to this definition">¶</a></dt>
<dd><p>Checking the sign of the transfer resistance.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.dca">
<code class="descname">dca</code><span class="sig-paren">(</span><em>dump=&lt;built-in function print&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.dca" title="Permalink to this definition">¶</a></dt>
<dd><p>execute DCA filtering</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.filterData">
<code class="descname">filterData</code><span class="sig-paren">(</span><em>i2keep</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.filterData" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter out the data not retained in <cite>i2keep</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>i2keep</strong> : ndarray of bool</p>
<blockquote class="last">
<div><p>Index where all measurement to be retained are <cite>True</cite> and the
others <cite>False</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.heatmap">
<code class="descname">heatmap</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.heatmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a heatmap based on 
Orozco, A. F., K. H. Williams, and A. Kemna (2013), Time-lapse spectral induced polarization imaging of stimulated uranium bioremediation, Near Surf. Geophys., 11(5), 531–544, doi:10.3997/1873-0604.2013020)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.inferType">
<code class="descname">inferType</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.inferType" title="Permalink to this definition">¶</a></dt>
<dd><p>define the type of the survey</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.iprangefilt">
<code class="descname">iprangefilt</code><span class="sig-paren">(</span><em>phimin</em>, <em>phimax</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.iprangefilt" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter IP data according to a specified range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>phimin</strong> : float</p>
<blockquote>
<div><p>Minimium phase angle [mrad].</p>
</div></blockquote>
<p><strong>phimax</strong> : float</p>
<blockquote class="last">
<div><p>Maximum phase angle [mrad].</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.linfit">
<code class="descname">linfit</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.linfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit a linear relationship to the resistivity data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="api.Survey.Survey.logClasses3">
<em class="property">static </em><code class="descname">logClasses3</code><span class="sig-paren">(</span><em>datax</em>, <em>datay</em>, <em>func</em>, <em>class1=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.logClasses3" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a log class of datay based on datay and applied function
func to each bin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>datax</strong> : array</p>
<blockquote>
<div><p>x values to be from which the log-classes will be made.</p>
</div></blockquote>
<p><strong>datay</strong> : array</p>
<blockquote>
<div><p>y values to which the function <cite>func</cite> will be applied inside each
log-class</p>
</div></blockquote>
<p><strong>func</strong> : function</p>
<blockquote>
<div><p>Function to be applied to the y value of each log class.</p>
</div></blockquote>
<p><strong>class1</strong> : array, optional</p>
<blockquote>
<div><p>Array of values for the log classes. If given, the limit of the 
classes will be computed as 10**class1</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mbins</strong> : array</p>
<blockquote>
<div><p>x-means of each bin.</p>
</div></blockquote>
<p><strong>vbins</strong> : array</p>
<blockquote>
<div><p>Value of each bin (output of the function <cite>func</cite>).</p>
</div></blockquote>
<p><strong>nbins</strong> : array</p>
<blockquote class="last">
<div><p>Number of measurements in each bin.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.manualFiltering">
<code class="descname">manualFiltering</code><span class="sig-paren">(</span><em>ax=None</em>, <em>figsize=(12</em>, <em>3)</em>, <em>contour=False</em>, <em>log=True</em>, <em>geom=False</em>, <em>label=''</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.manualFiltering" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually filters the data visually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, the graph is plotted along the axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">If <cite>ax</cite> is not None, a matplotlib figure is returned.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.phaseplotError">
<code class="descname">phaseplotError</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.phaseplotError" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the reciprocal phase discrepancies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.plotError">
<code class="descname">plotError</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.plotError" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the reciprocal errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.plotIPFit">
<code class="descname">plotIPFit</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.plotIPFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the reciprocal phase errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.plotIPFitParabola">
<code class="descname">plotIPFitParabola</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.plotIPFitParabola" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the reciprocal phase errors and fit parabola.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.pseudo">
<code class="descname">pseudo</code><span class="sig-paren">(</span><em>ax=None</em>, <em>bx=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.pseudo" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pseudo section if 2D survey or just quadrupoles transfer
resistance otherwise.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.pseudoIP">
<code class="descname">pseudoIP</code><span class="sig-paren">(</span><em>ax=None</em>, <em>contour=False</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.pseudoIP" title="Permalink to this definition">¶</a></dt>
<dd><p>Create pseudo section of IP data with points (default)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, the graph is plotted along this axis.</p>
</div></blockquote>
<p><strong>contour</strong> : bool</p>
<blockquote>
<div><p>If True, use filled contour instead of points in the pseudosection.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure</p>
<blockquote class="last">
<div><p>If <cite>ax</cite> is not specified, the method returns a figure.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.pseudoSection">
<code class="descname">pseudoSection</code><span class="sig-paren">(</span><em>ax=None</em>, <em>contour=False</em>, <em>log=True</em>, <em>geom=True</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.pseudoSection" title="Permalink to this definition">¶</a></dt>
<dd><p>create true pseudo graph with points and no interpolation</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.pwlfit">
<code class="descname">pwlfit</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.pwlfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit an power law to the resistivity data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.reciprocal">
<code class="descname">reciprocal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.reciprocal" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute reciprocal measurements.</p>
<p class="rubric">Notes</p>
<p>The methods create an array where all positive index are normal
measurements and the reciprocal measurements are their negative
counterparts. This array is stored in the main dataframe <cite>Survey.df</cite>
in the columns <cite>irecip</cite>. Measurements with <cite>ìrecip=0</cite> are measurements
without reciprocal.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.setType">
<code class="descname">setType</code><span class="sig-paren">(</span><em>stype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.setType" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the type of the survey.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stype</strong> : str</p>
<blockquote class="last">
<div><p>Type of the survey. Could also be infered using 
<cite>Survey.inferType()</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.write2protocol">
<code class="descname">write2protocol</code><span class="sig-paren">(</span><em>outputname=''</em>, <em>errTyp='none'</em>, <em>errTot=False</em>, <em>ip=False</em>, <em>errTypIP='none'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.write2protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a protocol.dat file for R2 or cR2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outputname</strong> : str, optional</p>
<blockquote>
<div><p>Path of the output file.</p>
</div></blockquote>
<p><strong>errTyp</strong> : str, optional</p>
<blockquote>
<div><dl class="docutils">
<dt>If <cite>none</cite> no error columns will be added. Other options are <span class="classifier-delimiter">:</span> <span class="classifier"></span></dt>
<dd><p class="first last">‘lin’,’lme’,’pwl’or ‘obs’.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>errTot</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, the modelling error will be added to the error from the
error model to form the <em>total error</em>.</p>
</div></blockquote>
<p><strong>ip</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite> and IP columns will be added to the file.</p>
</div></blockquote>
<p><strong>errTypIP</strong> : str, optional</p>
<blockquote>
<div><p>Needs <cite>ip=True</cite> to be taken into account. Specify the string of
the error model to apply for IP data.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>protocol</strong> : pandas.DataFrame</p>
<blockquote class="last">
<div><p>Dataframe which contains the data for the <cite>protocol.dat</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-api.meshTools"></span><p>Created on Wed May 30 10:19:09 2018, python 3.6.5
&#64;author: jamyd91
Import a vtk file with an unstructured grid (triangular/quad elements) and 
creates a mesh object (with associated functions). The mesh object can have quad or
triangular elements. module has capacity to show meshes, inverted results, apply a function 
to mesh parameters.</p>
<dl class="docutils">
<dt>Classes: </dt>
<dd>mesh_obj</dd>
<dt>Functions: </dt>
<dd>tri_cent() - computes the centre point for a 2d triangular element
vtk_import() - imports a triangular / quad unstructured grid from a vtk file
readR2_resdat () - reads resistivity values from a R2 file
quad_mesh () - creates a quadrilateral mesh given electrode x and y coordinates
tri_mesh () - calls gmshWrap and interfaces with gmsh.exe to make a trianglur mesh</dd>
<dt>Dependencies: </dt>
<dd>numpy (conda lib)
matplotlib (conda lib)
scipy (conda lib)
gmshWrap(pyR2 api module)
python3 standard libaries</dd>
</dl>
<p>Nb: Module has a heavy dependence on numpy and matplotlib packages</p>
<dl class="function">
<dt id="api.meshTools.points2vtk">
<code class="descclassname">api.meshTools.</code><code class="descname">points2vtk</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em>, <em>file_name='points.vtk'</em>, <em>title='points'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.points2vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Function makes a .vtk file for some xyz coordinates. optional argument
renames the name of the file (needs file path also) (default is “points.vtk”). 
title is the name of the vtk file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : list, tuple, np array</p>
<blockquote>
<div><p>X coordinates of points.</p>
</div></blockquote>
<p><strong>y</strong> : list, tuple, np array</p>
<blockquote>
<div><p>Y coordinates of points.</p>
</div></blockquote>
<p><strong>z</strong> : list, tuple, np array</p>
<blockquote>
<div><p>Z coordinates of points.</p>
</div></blockquote>
<p><strong>file_name</strong> : string, optional</p>
<blockquote>
<div><p>Path to saved file, defualts to ‘points.vtk’ in current working directory.</p>
</div></blockquote>
<p><strong>title</strong> : string, optional</p>
<blockquote>
<div><p>Title of vtk file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>~.vtk</strong> : file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.quad_mesh">
<code class="descclassname">api.meshTools.</code><code class="descname">quad_mesh</code><span class="sig-paren">(</span><em>elec_x</em>, <em>elec_y</em>, <em>elemx=4</em>, <em>xgf=1.5</em>, <em>yf=1.1</em>, <em>ygf=1.5</em>, <em>doi=-1</em>, <em>pad=2</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.quad_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a quaderlateral mesh given the electrode x and y positions. Function
relies heavily on the numpy package.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>elec_x</strong> : list, np array</p>
<blockquote>
<div><p>Electrode x coordinates</p>
</div></blockquote>
<p><strong>elec_y</strong> : list, np array</p>
<blockquote>
<div><p>Electrode y coordinates</p>
</div></blockquote>
<p><strong>elemy</strong> : int</p>
<blockquote>
<div><p>Number of elements in the fine y region</p>
</div></blockquote>
<p><strong>yf</strong> : float</p>
<blockquote>
<div><p>Y factor multiplier in the fine zone.</p>
</div></blockquote>
<p><strong>ygf</strong> : float</p>
<blockquote>
<div><p>Y factor multiplier in the coarse zone.</p>
</div></blockquote>
<p><strong>doi</strong> : float (m)</p>
<blockquote>
<div><p>Depth of investigation (if left as -1 = half survey width).</p>
</div></blockquote>
<p><strong>pad :</strong></p>
<blockquote>
<div><p>X padding outside the fine area (tipicaly twice the number of elements between electrodes).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Mesh</strong> : class</p>
<blockquote>
<div><p>Mesh object</p>
</div></blockquote>
<p><strong>meshx</strong> : numpy.array</p>
<blockquote>
<div><p>Mesh x locations for R2in file.</p>
</div></blockquote>
<p><strong>meshy</strong> : numpy.array</p>
<blockquote>
<div><p>Mesh y locations for R2in file (ie node depths).</p>
</div></blockquote>
<p><strong>topo</strong> : numpy.array</p>
<blockquote>
<div><p>Topography for R2in file.</p>
</div></blockquote>
<p><strong>elec_node</strong> : numpy.array</p>
<blockquote class="last">
<div><p>x columns where the electrodes are.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.readR2_resdat">
<code class="descclassname">api.meshTools.</code><code class="descname">readR2_resdat</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.readR2_resdat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads resistivity values in f00#_res.dat file output from R2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path</strong> : string</p>
<blockquote>
<div><p>Maps to the _res.dat file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>res_values</strong> : list of floats</p>
<blockquote class="last">
<div><p>Resistivity values returned from the .dat file.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.readR2_sensdat">
<code class="descclassname">api.meshTools.</code><code class="descname">readR2_sensdat</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.readR2_sensdat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads sensitivity values in _sens.dat file output from R2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path</strong> : string</p>
<blockquote>
<div><p>Maps to the _sens.dat file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>res_values</strong> : list of floats</p>
<blockquote class="last">
<div><p>Sensitivity values returned from the .dat file (not log10!).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.tri_cent">
<code class="descclassname">api.meshTools.</code><code class="descname">tri_cent</code><span class="sig-paren">(</span><em>p</em>, <em>q</em>, <em>r</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.tri_cent" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the centre coordinates for a 2d triangle given the x,y coordinates 
of the vertices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : tuple,list,np array</p>
<blockquote>
<div><p>Coordinates of triangle vertices in the form (x,y).</p>
</div></blockquote>
<p><strong>q</strong> : tuple,list,np array</p>
<blockquote>
<div><p>Coordinates of triangle vertices in the form (x,y).</p>
</div></blockquote>
<p><strong>r</strong> : tuple,list,np array</p>
<blockquote>
<div><p>Coordinates of triangle vertices in the form (x,y).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>coordinates</strong> : tuple</p>
<blockquote class="last">
<div><p>In the format (x,y).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.tri_mesh">
<code class="descclassname">api.meshTools.</code><code class="descname">tri_mesh</code><span class="sig-paren">(</span><em>elec_x</em>, <em>elec_y</em>, <em>elec_type=None</em>, <em>geom_input=None</em>, <em>keep_files=True</em>, <em>show_output=True</em>, <em>path='exe'</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.tri_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a triangular mesh for r2. returns mesh.dat in the Executables directory 
this function expects the current working directory has path: exe/gmsh.exe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>elec_x: array like</strong></p>
<blockquote>
<div><p>electrode x coordinates</p>
</div></blockquote>
<p><strong>elec_y: array like</strong></p>
<blockquote>
<div><p>electrode y coordinates</p>
</div></blockquote>
<p><strong>elec_type: list of strings, optional</strong></p>
<blockquote>
<div><p>type of electrode see Notes in genGeoFile in gmshWrap.py for the format of this list</p>
</div></blockquote>
<p><strong>geom_input</strong> : dict, optional</p>
<blockquote>
<div><p>Allows for advanced survey geometry in genGeoFile in gmshWrap.py (see notes there).</p>
</div></blockquote>
<p><strong>keep_files</strong> : boolean, optional</p>
<blockquote>
<div><p><cite>True</cite> if the gmsh input and output file is to be stored in the exe directory.</p>
</div></blockquote>
<p><strong>show_ouput</strong> : boolean, optional</p>
<blockquote>
<div><p><cite>True</cite> if gmsh output is to be printed to console.</p>
</div></blockquote>
<p><strong>path</strong> : string, optional</p>
<blockquote>
<div><p>Path to exe folder (leave default unless you know what you are doing).</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote>
<div><p>Function to which pass the output during mesh generation. <cite>print()</cite> is
the default.</p>
</div></blockquote>
<p><strong>**kwargs</strong> : optional</p>
<blockquote>
<div><p>Key word arguments to be passed to genGeoFile.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mesh.dat</strong> : file</p>
<blockquote class="last">
<div><p>In the Executables directory.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.vtk_import">
<code class="descclassname">api.meshTools.</code><code class="descname">vtk_import</code><span class="sig-paren">(</span><em>file_path='mesh.vtk'</em>, <em>parameter_title='default'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.vtk_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports a 2d mesh file into the python workspace, can have triangular or quad type elements. 3D meshes 
are still a work in progress.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path</strong> : string, optional</p>
<blockquote>
<div><p>File path to mesh file. Note that a error will occur if the file format is not as expected.</p>
</div></blockquote>
<p><strong>parameter_title</strong> : string, optional</p>
<blockquote>
<div><p>Name of the parameter table in the vtk file, if left as default the first look up table found will be returned 
also note that all parameters will be imported. Just the title highlights which one the mesh object will use as 
default cell attribute.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mesh</strong> : class</p>
<blockquote class="last">
<div><p>a pyR2 mesh class</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to pyR2’s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">pyR2 v0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, G. Blanchy, S. Saneiyan, J. Boyd.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.9.
    </div>
  </body>
</html>