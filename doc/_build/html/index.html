
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to pyR2’s documentation! &#8212; pyR2 v0.1 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">pyR2 v0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-pyr2-s-documentation">
<h1>Welcome to pyR2’s documentation!<a class="headerlink" href="#welcome-to-pyr2-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-api.R2"></span><p>Created on Wed May 30 16:48:54 2018 in python 3.6.5
Main R2 class, wraps the other pyR2 modules (API) in to an object orientated approach
&#64;author: jkl</p>
<dl class="class">
<dt id="api.R2.R2">
<em class="property">class </em><code class="descclassname">api.R2.</code><code class="descname">R2</code><span class="sig-paren">(</span><em>dirname=''</em>, <em>typ='R2'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2" title="Permalink to this definition">¶</a></dt>
<dd><p>Master class to handle all processing around the inversion codes.</p>
<dl class="method">
<dt id="api.R2.R2.addRegion">
<code class="descname">addRegion</code><span class="sig-paren">(</span><em>xy</em>, <em>res0=100</em>, <em>phase0=1</em>, <em>blocky=False</em>, <em>fixed=False</em>, <em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.addRegion" title="Permalink to this definition">¶</a></dt>
<dd><p>Add region according to a polyline defined by <cite>xy</cite> and assign it
the starting resistivity <cite>res0</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xy</strong> : array</p>
<blockquote>
<div><p>Array with two columns for the x and y coordinates.</p>
</div></blockquote>
<p><strong>res0</strong> : float, optional</p>
<blockquote>
<div><p>Resistivity values of the defined area.</p>
</div></blockquote>
<p><strong>phase0</strong> : float, optional</p>
<blockquote>
<div><p>Read only if you choose the cR2 option. Phase value of the defined
area in mrad</p>
</div></blockquote>
<p><strong>blocky</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite> the boundary of the region will be blocky if inversion
is block inversion.</p>
</div></blockquote>
<p><strong>fixed</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, the inversion will keep the starting resistivity of this
region.</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib.axes.Axes</p>
<blockquote class="last">
<div><p>If not <cite>None</cite>, the region will be plotted against this axes.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.assignRes0">
<code class="descname">assignRes0</code><span class="sig-paren">(</span><em>regionValues={}</em>, <em>zoneValues={}</em>, <em>fixedValues={}</em>, <em>ipValues={}</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.assignRes0" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign starting resitivity values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>regionValues</strong> : dict</p>
<blockquote>
<div><p>Dictionnary with key being the region number and the value being
the resistivity in [Ohm.m].</p>
</div></blockquote>
<p><strong>zoneValues</strong> : dict</p>
<blockquote>
<div><p>Dictionnary with key being the region number and the zone number.
There would be no smoothing between the zones if ‘block inversion’
is selected (<cite>inversion_type</cite> = 4).</p>
</div></blockquote>
<p><strong>fixedValues</strong> : dict</p>
<blockquote>
<div><p>Dictionnary with key being the region number and a boolean value if
we want to fix the resistivity of the zone to the starting one.
Note that it only works for triangular mesh for now.</p>
</div></blockquote>
<p><strong>ipValues</strong> : dict</p>
<blockquote class="last">
<div><p>Dictionnary with key being the region number and the values beeing
the phase [mrad].</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.compCond">
<code class="descname">compCond</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.compCond" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute conductivities from resistivities for the ERT mesh</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.computeDOI">
<code class="descname">computeDOI</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.computeDOI" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Depth Of Investigation (DOI).</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.computeModelError">
<code class="descname">computeModelError</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.computeModelError" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute modelling error due to the mesh.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createBatchSurvey">
<code class="descname">createBatchSurvey</code><span class="sig-paren">(</span><em>dirname</em>, <em>ftype='Syscal'</em>, <em>info={}</em>, <em>spacing=None</em>, <em>parser=None</em>, <em>isurveys=[]</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>keepAll=False</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createBatchSurvey" title="Permalink to this definition">¶</a></dt>
<dd><p>Read multiples files from a folders (sorted by alphabetical order).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dirname</strong> : str</p>
<blockquote>
<div><p>Directory with files to be parsed.</p>
</div></blockquote>
<p><strong>ftype</strong> : str, optional</p>
<blockquote>
<div><p>Type of file to be parsed. Either ‘Syscal’ or ‘Protocol’.</p>
</div></blockquote>
<p><strong>info</strong> : dict, optional</p>
<blockquote>
<div><p>Dictionnary of info about the survey.</p>
</div></blockquote>
<p><strong>spacing</strong> : float, optional</p>
<blockquote>
<div><p>Electrode spacing to be passed to the parser function.</p>
</div></blockquote>
<p><strong>parser</strong> : function, optional</p>
<blockquote>
<div><p>A parser function to be passed to <cite>Survey</cite> constructor.</p>
</div></blockquote>
<p><strong>isurveys</strong> : list, optional</p>
<blockquote>
<div><p>List of surveys index that will be used for error modelling and so
reciprocal measurements. By default all surveys are used.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote>
<div><p>Function to dump the information message when importing the files.</p>
</div></blockquote>
<p><strong>keepAll: bool, optional</strong></p>
<blockquote class="last">
<div><p>Filter out NaN and Inf but also dummy measurements.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createMesh">
<code class="descname">createMesh</code><span class="sig-paren">(</span><em>typ='default'</em>, <em>buried=None</em>, <em>surface=None</em>, <em>cl_factor=2</em>, <em>cl=-1</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mesh.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>typ</strong> : str, optional</p>
<blockquote>
<div><p>Type of mesh. Eithter ‘quad’ or ‘trian’. If no topography, ‘quad’
mesh will be chosen.</p>
</div></blockquote>
<p><strong>buried</strong> : numpy.array, optional</p>
<blockquote>
<div><p>Boolean array of electrodes that are buried. Should be the same
length as <cite>R2.elec</cite></p>
</div></blockquote>
<p><strong>surface</strong> : numpy.array, optional</p>
<blockquote>
<div><p>Array with two or threee columns x, y (optional) and elevation for 
additional surface points.</p>
</div></blockquote>
<p><strong>cl_factor</strong> : float, optional</p>
<blockquote>
<div><p>Characteristic length factor. Only used for triangular mesh to allow
mesh to be refined close the electrodes and then expand.</p>
</div></blockquote>
<p><strong>cl</strong> : float, optional</p>
<blockquote>
<div><p>Characteristic length that define the mesh size around the
electrodes.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>Function to which pass the output during mesh generation. <cite>print()</cite></dt>
<dd><p class="first last">is the default.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createModel">
<code class="descname">createModel</code><span class="sig-paren">(</span><em>ax=None</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>typ='poly'</em>, <em>addAction=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Interactive model creation for forward modelling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib.axes.Axes, optional</p>
<blockquote>
<div><p>Axes to which the graph will be plotted.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote>
<div><p>Function that outputs messages from the interactive model creation.</p>
</div></blockquote>
<p><strong>typ</strong> : str</p>
<blockquote>
<div><p>Type of selection either <cite>poly</cite> for polyline or <cite>rect</cite> for
rectangle.</p>
</div></blockquote>
<p><strong>addAction</strong> : function</p>
<blockquote>
<div><p>Function to be called once the selection is finished (design for
GUI purpose).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib.figure</p>
<blockquote class="last">
<div><p>If <cite>ax</cite> is <cite>None</cite>, will return a figure.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createSequence">
<code class="descname">createSequence</code><span class="sig-paren">(</span><em>params=[('dpdp1', 1, 8)]</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dipole-dipole sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>params</strong> : list of tuple, optional</p>
<blockquote class="last">
<div><p>Each tuple is the form (&lt;array_name&gt;, param1, param2, …)
Types of sequences available are : ‘dpdp1’,’dpdp2’,’wenner_alpha’,
‘wenner_beta’, ‘wenner_gamma’, ‘schlum1’, ‘schlum2’, ‘multigrad’.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createSurvey">
<code class="descname">createSurvey</code><span class="sig-paren">(</span><em>fname=''</em>, <em>ftype='Syscal'</em>, <em>info={}</em>, <em>spacing=None</em>, <em>parser=None</em>, <em>keepAll=False</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createSurvey" title="Permalink to this definition">¶</a></dt>
<dd><p>Read electrodes and quadrupoles data and return 
a survey object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : str</p>
<blockquote>
<div><p>Filename to be parsed.</p>
</div></blockquote>
<p><strong>ftype</strong> : str, optional</p>
<blockquote>
<div><p>Type of file to be parsed. Either ‘Syscal’ or ‘Protocol’.</p>
</div></blockquote>
<p><strong>info</strong> : dict, optional</p>
<blockquote>
<div><p>Dictionnary of info about the survey.</p>
</div></blockquote>
<p><strong>spacing</strong> : float, optional</p>
<blockquote>
<div><p>Electrode spacing to be passed to the parser function.</p>
</div></blockquote>
<p><strong>parser</strong> : function, optional</p>
<blockquote>
<div><p>A parser function to be passed to <cite>Survey</cite> constructor.</p>
</div></blockquote>
<p><strong>keepAll: bool, optional</strong></p>
<blockquote class="last">
<div><p>Filter out NaN and Inf but also dummy measurements.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.createTimeLapseSurvey">
<code class="descname">createTimeLapseSurvey</code><span class="sig-paren">(</span><em>dirname</em>, <em>ftype='Syscal'</em>, <em>info={}</em>, <em>spacing=None</em>, <em>parser=None</em>, <em>isurveys=[]</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>keepAll=False</em>, <em>trim=True</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.createTimeLapseSurvey" title="Permalink to this definition">¶</a></dt>
<dd><p>Read electrodes and quadrupoles data and return 
a survey object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dirname</strong> : str</p>
<blockquote>
<div><p>Directory with files to be parsed.</p>
</div></blockquote>
<p><strong>ftype</strong> : str, optional</p>
<blockquote>
<div><p>Type of file to be parsed. Either ‘Syscal’ or ‘Protocol’.</p>
</div></blockquote>
<p><strong>info</strong> : dict, optional</p>
<blockquote>
<div><p>Dictionnary of info about the survey. Put inverse_type = 1 to allow 
for a changing number of measurements between surveys.</p>
</div></blockquote>
<p><strong>spacing</strong> : float, optional</p>
<blockquote>
<div><p>Electrode spacing to be passed to the parser function.</p>
</div></blockquote>
<p><strong>parser</strong> : function, optional</p>
<blockquote>
<div><p>A parser function to be passed to <cite>Survey</cite> constructor.</p>
</div></blockquote>
<p><strong>isurveys</strong> : list, optional</p>
<blockquote>
<div><p>List of surveys index that will be used for error modelling and so
reciprocal measurements. By default all surveys are used.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote>
<div><p>Function to dump information message when importing the files.</p>
</div></blockquote>
<p><strong>keepAll</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, filter out NaN and Inf but also dummy measurements.</p>
</div></blockquote>
<p><strong>trim</strong> : bool, optional</p>
<blockquote class="last">
<div><p>If <cite>True</cite> this ensure that all surveys imported have the same
length. This is needed for difference inversion (<cite>reg_mode=2</cite>) but
not for background constrained inversion (<cite>reg_mode=1</cite>) and can be
disable in this last case.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.elecXY2elecX">
<code class="descname">elecXY2elecX</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.elecXY2elecX" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert 3D electrode XY coordinates into just X coordinates. Use for 
2D lines only! 
If self.elec has been set then each survey will use the electrodes set 
in the R2 master class. If not then the R2 master class will take on the
elec values set for the first survey in a sequence.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.filterElec">
<code class="descname">filterElec</code><span class="sig-paren">(</span><em>elec=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.filterElec" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter out specific electrodes given in all surveys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>elec</strong> : list</p>
<blockquote class="last">
<div><p>List of electrode number to be removed.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.forward">
<code class="descname">forward</code><span class="sig-paren">(</span><em>noise=0.0</em>, <em>iplot=False</em>, <em>dump=&lt;built-in function print&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Operates forward modelling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>noise</strong> : float, optional 0 &lt;= noise &lt;= 1</p>
<blockquote>
<div><p>Noise level from a Gaussian distribution that should be applied
on the forward apparent resistivities obtained.</p>
</div></blockquote>
<p><strong>iplot</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite> will plot the pseudo section after the forward modelling.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote class="last">
<div><p>Function to print information messages when running the forward model.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.getResults">
<code class="descname">getResults</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.getResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect inverted results after running the inversion and adding
them to <cite>R2.meshResults</cite> list.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.importElec">
<code class="descname">importElec</code><span class="sig-paren">(</span><em>fname=''</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.importElec" title="Permalink to this definition">¶</a></dt>
<dd><p>Import electrodes positions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : str</p>
<blockquote class="last">
<div><p>Path of the CSV file containing the electrodes positions. It should contains 3 columns maximum with the X, Y, Z positions of the electrodes.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.importMesh">
<code class="descname">importMesh</code><span class="sig-paren">(</span><em>file_path</em>, <em>mesh_type='tetra'</em>, <em>node_pos=None</em>, <em>elec=None</em>, <em>flag_3D=False</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.importMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Import mesh from .vtk / .msh / .dat, rather than having &lt;pyR2&gt; create
one for you.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path: str</strong></p>
<blockquote>
<div><p>File path mapping to the mesh file</p>
</div></blockquote>
<p><strong>mesh_type: str</strong></p>
<blockquote>
<div><p>Type of mesh, ‘quad’, ‘trian’, ‘tetra’</p>
</div></blockquote>
<p><strong>node_pos: array like, optional</strong></p>
<blockquote>
<div><p>Array of ints referencing the electrode nodes. If left as none no electrodes 
will be added to the mesh class. Consider using mesh.move_elec_nodes()
to add nodes to mesh using their xyz coordinates.</p>
</div></blockquote>
<p><strong>elec: numpy array, optional</strong></p>
<blockquote>
<div><p>N*3 numpy array of electrode x,y,z coordinates. Electrode node positions
will be computed by finding the nearest nodes to the relevant coordinates.</p>
</div></blockquote>
<p><strong>flag_3D: bool, optional</strong></p>
<blockquote>
<div><p>Make this true for 3D meshes if importing .msh type.</p>
</div></blockquote>
<p><strong>Returns</strong></p>
<p><strong>———–</strong></p>
<p><strong>mesh: class</strong></p>
<blockquote class="last">
<div><p>Added to R2 class</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.importSequence">
<code class="descname">importSequence</code><span class="sig-paren">(</span><em>fname=''</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.importSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Import sequence for forward modelling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : str</p>
<blockquote class="last">
<div><p>Path of the CSV file to be imported. The file shouldn’t have any headers just 4 columns with the 4 electrodes numbers.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.invert">
<code class="descname">invert</code><span class="sig-paren">(</span><em>param={}</em>, <em>iplot=False</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>modErr=False</em>, <em>parallel=False</em>, <em>iMoveElec=False</em>, <em>ncores=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert the data, first generate R2.in file, then run
inversion using appropriate wrapper, then return results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>param</strong> : dict, optional</p>
<blockquote>
<div><p>Dictionary of parameters for inversion. Will be passed to
<cite>R2.write2in()</cite>.</p>
</div></blockquote>
<p><strong>iplot</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, will plot the results of the inversion using
<cite>R2.showResults()</cite>.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optinal</p>
<blockquote>
<div><p>Function to print the output of the inversion. To be passed to 
<cite>R2.runR2()</cite>.</p>
</div></blockquote>
<p><strong>modErr</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, the model error will be compute and added before
inversion.</p>
</div></blockquote>
<p><strong>parallel</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, batch and time-lapse survey will be inverted in //. No
output will be display during inversion.</p>
</div></blockquote>
<p><strong>iMoveElec</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, then different electrode location will be used for 
the different surveys. Electrodes location are specified in the
<cite>Survey</cite> object. Only for parallel inversion for now.</p>
</div></blockquote>
<p><strong>ncores</strong> : int, optional</p>
<blockquote class="last">
<div><p>If <cite>parallel==True</cite> then ncores is the number of cores to use (by
default all the cores available are used).)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.normElecIdx">
<code class="descname">normElecIdx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.normElecIdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalise electrode indexes to start at 1 in consective and ascending order.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.pseudoError">
<code class="descname">pseudoError</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.pseudoError" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pseudo section of errors from file <cite>f001_err.dat</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis</p>
<blockquote class="last">
<div><p>If specified, the graph will be plotted against <cite>ax</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.pseudoErrorIP">
<code class="descname">pseudoErrorIP</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.pseudoErrorIP" title="Permalink to this definition">¶</a></dt>
<dd><p>Display normalized phase error.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.resetRegions">
<code class="descname">resetRegions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.resetRegions" title="Permalink to this definition">¶</a></dt>
<dd><p>Just reset all regions already draw. Shouldn’t be needed as 
the <cite>self.runR2()</cite> automatically use a homogenous model as starting
for inversion. The only purpose of this is to use an inhomogeous
starting model to invert data from forward modelling.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.runParallel">
<code class="descname">runParallel</code><span class="sig-paren">(</span><em>dirname=None</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>iMoveElec=False</em>, <em>ncores=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.runParallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Run R2 in // according to the number of cores available.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dirname</strong> : str, optional</p>
<blockquote>
<div><p>Path of the working directory.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote>
<div><p>Function to be passed to <cite>R2.runR2()</cite> for printing output during
inversion.</p>
</div></blockquote>
<p><strong>iMoveElec</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite> will move electrodes according to their position in each
<cite>Survey</cite> object.</p>
</div></blockquote>
<p><strong>ncores</strong> : int, optional</p>
<blockquote class="last">
<div><p>Number or cores to use. If None, the maximum number of cores
available will be used.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.runR2">
<code class="descname">runR2</code><span class="sig-paren">(</span><em>dirname=''</em>, <em>dump=&lt;built-in function print&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.runR2" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the executable in charge of the inversion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dirname</strong> : str, optional</p>
<blockquote>
<div><p>Path of the directory where to run the inversion code.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote class="last">
<div><p>Function to print the output of the invrsion code while running.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.saveInvPlots">
<code class="descname">saveInvPlots</code><span class="sig-paren">(</span><em>outputdir=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.saveInvPlots" title="Permalink to this definition">¶</a></dt>
<dd><p>Save all plots to output (or working directory). Parameters
are passed to the <cite>showResults()</cite> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outputdir</strong> : str, optional</p>
<blockquote class="last">
<div><p>Path of the output directory. Default is the working directory.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.setBorehole">
<code class="descname">setBorehole</code><span class="sig-paren">(</span><em>val=False</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.setBorehole" title="Permalink to this definition">¶</a></dt>
<dd><p>Set all surveys in borehole type if <cite>True</cite> is passed.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.setElec">
<code class="descname">setElec</code><span class="sig-paren">(</span><em>elec</em>, <em>elecList=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.setElec" title="Permalink to this definition">¶</a></dt>
<dd><p>Set electrodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>elec</strong> : numpy array</p>
<blockquote>
<div><p>Array of NxM dimensions. N = number of electodes, M = 2 for x,y or
M = 3 if x,y,z coordinates are supplied.</p>
</div></blockquote>
<p><strong>elecList</strong> : list, optional</p>
<blockquote class="last">
<div><p>If not None then elec is ignored in favour of elecList. This option 
is to be used in the advanced use case where electrodes move which 
each survey. Each entry of the list is a numpy array the same format
of ‘elec’, which is then assigned to each survey class.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.setwd">
<code class="descname">setwd</code><span class="sig-paren">(</span><em>dirname</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.setwd" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the working directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dirname</strong> : str</p>
<blockquote class="last">
<div><p>Path of the working directory.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showInParaview">
<code class="descname">showInParaview</code><span class="sig-paren">(</span><em>index=0</em>, <em>paraview_loc=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showInParaview" title="Permalink to this definition">¶</a></dt>
<dd><p>Open paraview to display the .vtk file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index: int, optional</strong></p>
<blockquote>
<div><p>Timestep to be shown in paraview (for an individual survey this 1).</p>
</div></blockquote>
<p><strong>paraview_loc: str, optional</strong></p>
<blockquote class="last">
<div><p><strong>Windows ONLY</strong> maps to the excuatable paraview.exe. The program 
will attempt to find the location of the paraview install if not given.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showInversionErrors">
<code class="descname">showInversionErrors</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showInversionErrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Display inversion error by measurment numbers.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showIter">
<code class="descname">showIter</code><span class="sig-paren">(</span><em>index=-1</em>, <em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showIter" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispay temporary inverted section after each iteration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> : int, optional</p>
<blockquote>
<div><p>Iteration number to show.</p>
</div></blockquote>
<p><strong>ax</strong> : matplotib axis, optional</p>
<blockquote class="last">
<div><p>If specified, the graph will be plotted along <cite>ax</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showMesh">
<code class="descname">showMesh</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the mesh.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showParam">
<code class="descname">showParam</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Print parameters in param</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showResults">
<code class="descname">showResults</code><span class="sig-paren">(</span><em>index=0</em>, <em>ax=None</em>, <em>edge_color='none'</em>, <em>attr=''</em>, <em>sens=True</em>, <em>color_map='viridis'</em>, <em>zlim=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the inverteds section.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> : int, optional</p>
<blockquote>
<div><p>Index of the inverted section (mainly in the case of time-lapse
inversion)</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, the inverted graph will be plotted agains <cite>ax</cite>.</p>
</div></blockquote>
<p><strong>edge_color</strong> : str, optional</p>
<blockquote>
<div><p>Color of the edges of the mesh.</p>
</div></blockquote>
<p><strong>attr</strong> : str, optional</p>
<blockquote>
<div><p>Name of the attribute to be plotted.</p>
</div></blockquote>
<p><strong>sens</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite> and if sensitivity is available, it will be plotted as
a white transparent shade on top of the inverted section.</p>
</div></blockquote>
<p><strong>color_map</strong> : str, optional</p>
<blockquote class="last">
<div><p>Name of the colormap to be used.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showSection">
<code class="descname">showSection</code><span class="sig-paren">(</span><em>fname=''</em>, <em>ax=None</em>, <em>ilog10=True</em>, <em>isen=False</em>, <em>figsize=(8</em>, <em>3)</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Show inverted section based on the <cite>_res.dat``file instead of the
`.vtk</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : str, optional</p>
<blockquote>
<div><p>Name of the inverted <cite>.dat</cite> file produced by the inversion.</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, the graph will be plotted along <cite>ax</cite>.</p>
</div></blockquote>
<p><strong>ilog10</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, the log10 of the resistivity will be used.</p>
</div></blockquote>
<p><strong>isen</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, sensitivity will be displayed as white transparent
shade on top of the inverted section.</p>
</div></blockquote>
<p><strong>figsize</strong> : tuple, optional</p>
<blockquote class="last">
<div><p>Size of the figure.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.showSlice">
<code class="descname">showSlice</code><span class="sig-paren">(</span><em>index=0</em>, <em>ax=None</em>, <em>attr=None</em>, <em>axis='z'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.showSlice" title="Permalink to this definition">¶</a></dt>
<dd><p>Show slice of 3D mesh interactively.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.shuntIndexes">
<code class="descname">shuntIndexes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.shuntIndexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Shunt electrode indexes to start at 1.</p>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.write2in">
<code class="descname">write2in</code><span class="sig-paren">(</span><em>param={}</em>, <em>typ=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.write2in" title="Permalink to this definition">¶</a></dt>
<dd><p>Create configuration file for inversion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>param</strong> : dict</p>
<blockquote>
<div><p>Dictionnary of parameters and values for the inversion settings.</p>
</div></blockquote>
<p><strong>typ</strong> : str, optional</p>
<blockquote class="last">
<div><p>Type of inversion. By default given by <cite>R2.typ</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.R2.R2.write2protocol">
<code class="descname">write2protocol</code><span class="sig-paren">(</span><em>errTyp=''</em>, <em>errTypIP=''</em>, <em>errTot=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.R2.write2protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a protocol.dat file for the inversion code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>errTyp</strong> : str</p>
<blockquote>
<div><p>Type of the DC error. Either ‘pwl’, ‘lin’, ‘obs’.</p>
</div></blockquote>
<p><strong>errTypIP</strong> : str</p>
<blockquote class="last">
<div><p>Type of the IP error. Either ‘pwl’.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="api.R2.readMeshDat">
<code class="descclassname">api.R2.</code><code class="descname">readMeshDat</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.readMeshDat" title="Permalink to this definition">¶</a></dt>
<dd><p>Read mesh.dat or mesh3d.dat and returns elements and nodes.</p>
</dd></dl>

<dl class="function">
<dt id="api.R2.writeMeshDat">
<code class="descclassname">api.R2.</code><code class="descname">writeMeshDat</code><span class="sig-paren">(</span><em>fname</em>, <em>elems</em>, <em>nodes</em>, <em>extraHeader=''</em>, <em>footer='1'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.R2.writeMeshDat" title="Permalink to this definition">¶</a></dt>
<dd><p>Write mesh.dat/mesh3d.dat provided elements and nodes at least.</p>
</dd></dl>

<span class="target" id="module-api.Survey"></span><p>Created on Fri Jun  1 11:21:54 2018</p>
<p>&#64;author: jkl</p>
<dl class="class">
<dt id="api.Survey.Survey">
<em class="property">class </em><code class="descclassname">api.Survey.</code><code class="descname">Survey</code><span class="sig-paren">(</span><em>fname</em>, <em>ftype=''</em>, <em>name=''</em>, <em>spacing=None</em>, <em>parser=None</em>, <em>keepAll=True</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that handles geophysical data and some basic functions. One 
instance is created for each survey.</p>
<dl class="method">
<dt id="api.Survey.Survey.addData">
<code class="descname">addData</code><span class="sig-paren">(</span><em>fname</em>, <em>ftype='Syscal'</em>, <em>spacing=None</em>, <em>parser=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.addData" title="Permalink to this definition">¶</a></dt>
<dd><p>Add data to the actual survey (for instance the reciprocal if they
are not in the same file).</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.addFilteredIP">
<code class="descname">addFilteredIP</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.addFilteredIP" title="Permalink to this definition">¶</a></dt>
<dd><p>Add filtered IP data after IP filtering and pre-processing.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.basicFilter">
<code class="descname">basicFilter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.basicFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove NaN and Inf values in the data.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.checkTxSign">
<code class="descname">checkTxSign</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.checkTxSign" title="Permalink to this definition">¶</a></dt>
<dd><p>Checking the sign of the transfer resistance.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.dca">
<code class="descname">dca</code><span class="sig-paren">(</span><em>dump=&lt;built-in function print&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.dca" title="Permalink to this definition">¶</a></dt>
<dd><p>execute DCA filtering</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.elec2distance">
<code class="descname">elec2distance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.elec2distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert 3d xy data in pure x lateral distance. Use for 2D data only!</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.filterData">
<code class="descname">filterData</code><span class="sig-paren">(</span><em>i2keep</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.filterData" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter out the data not retained in <cite>i2keep</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>i2keep</strong> : ndarray of bool</p>
<blockquote class="last">
<div><p>Index where all measurement to be retained are <cite>True</cite> and the
others <cite>False</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.Survey.Survey.fromDataframe">
<em class="property">classmethod </em><code class="descname">fromDataframe</code><span class="sig-paren">(</span><em>df</em>, <em>elec</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.fromDataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a survey class from pandas dataframe.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.heatmap">
<code class="descname">heatmap</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.heatmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a heatmap based on 
Orozco, A. F., K. H. Williams, and A. Kemna (2013), Time-lapse spectral induced polarization imaging of stimulated uranium bioremediation, Near Surf. Geophys., 11(5), 531–544, doi:10.3997/1873-0604.2013020)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.inferType">
<code class="descname">inferType</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.inferType" title="Permalink to this definition">¶</a></dt>
<dd><p>define the type of the survey</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.iprangefilt">
<code class="descname">iprangefilt</code><span class="sig-paren">(</span><em>phimin</em>, <em>phimax</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.iprangefilt" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter IP data according to a specified range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>phimin</strong> : float</p>
<blockquote>
<div><p>Minimium phase angle [mrad].</p>
</div></blockquote>
<p><strong>phimax</strong> : float</p>
<blockquote class="last">
<div><p>Maximum phase angle [mrad].</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.linfit">
<code class="descname">linfit</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.linfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit a linear relationship to the resistivity data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="api.Survey.Survey.logClasses3">
<em class="property">static </em><code class="descname">logClasses3</code><span class="sig-paren">(</span><em>datax</em>, <em>datay</em>, <em>func</em>, <em>class1=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.logClasses3" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a log class of datay based on datay and applied function
func to each bin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>datax</strong> : array</p>
<blockquote>
<div><p>x values to be from which the log-classes will be made.</p>
</div></blockquote>
<p><strong>datay</strong> : array</p>
<blockquote>
<div><p>y values to which the function <cite>func</cite> will be applied inside each
log-class</p>
</div></blockquote>
<p><strong>func</strong> : function</p>
<blockquote>
<div><p>Function to be applied to the y value of each log class.</p>
</div></blockquote>
<p><strong>class1</strong> : array, optional</p>
<blockquote>
<div><p>Array of values for the log classes. If given, the limit of the 
classes will be computed as 10**class1</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mbins</strong> : array</p>
<blockquote>
<div><p>x-means of each bin.</p>
</div></blockquote>
<p><strong>vbins</strong> : array</p>
<blockquote>
<div><p>Value of each bin (output of the function <cite>func</cite>).</p>
</div></blockquote>
<p><strong>nbins</strong> : array</p>
<blockquote class="last">
<div><p>Number of measurements in each bin.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.manualFiltering">
<code class="descname">manualFiltering</code><span class="sig-paren">(</span><em>ax=None</em>, <em>figsize=(12</em>, <em>3)</em>, <em>contour=False</em>, <em>log=True</em>, <em>geom=False</em>, <em>label=''</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.manualFiltering" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually filters the data visually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, the graph is plotted along the axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">If <cite>ax</cite> is not None, a matplotlib figure is returned.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.normElecIdx">
<code class="descname">normElecIdx</code><span class="sig-paren">(</span><em>debug=True</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.normElecIdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalise the electrode indexing sequencing to start at 1 and ascend
consectively (ie 1 , 2 , 3 , 4 … )</p>
<p>Function firstly normalises all indexes so that the lowest electrode 
number is 1. Then removes jumps in the electrode indexing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>debug</strong> : bool</p>
<blockquote class="last">
<div><p>Output will be printed to console if true.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.phaseplotError">
<code class="descname">phaseplotError</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.phaseplotError" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the reciprocal phase discrepancies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.plotError">
<code class="descname">plotError</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.plotError" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the reciprocal errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.plotIPFit">
<code class="descname">plotIPFit</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.plotIPFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the reciprocal phase errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.plotIPFitParabola">
<code class="descname">plotIPFitParabola</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.plotIPFitParabola" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the reciprocal phase errors and fit parabola.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.pseudo">
<code class="descname">pseudo</code><span class="sig-paren">(</span><em>ax=None</em>, <em>bx=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.pseudo" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pseudo section if 2D survey or just quadrupoles transfer
resistance otherwise.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.pseudoIP">
<code class="descname">pseudoIP</code><span class="sig-paren">(</span><em>ax=None</em>, <em>contour=False</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.pseudoIP" title="Permalink to this definition">¶</a></dt>
<dd><p>Create pseudo section of IP data with points (default)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, the graph is plotted along this axis.</p>
</div></blockquote>
<p><strong>contour</strong> : bool</p>
<blockquote>
<div><p>If True, use filled contour instead of points in the pseudosection.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure</p>
<blockquote class="last">
<div><p>If <cite>ax</cite> is not specified, the method returns a figure.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.pseudoSection">
<code class="descname">pseudoSection</code><span class="sig-paren">(</span><em>ax=None</em>, <em>contour=False</em>, <em>log=False</em>, <em>geom=True</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.pseudoSection" title="Permalink to this definition">¶</a></dt>
<dd><p>create true pseudo graph with points and no interpolation</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.pwlfit">
<code class="descname">pwlfit</code><span class="sig-paren">(</span><em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.pwlfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit an power law to the resistivity data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axis, optional</p>
<blockquote>
<div><p>If specified, graph will be plotted on the given axis.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : matplotlib figure, optional</p>
<blockquote class="last">
<div><p>If ax is not specified, the function will return a figure object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.reciprocal">
<code class="descname">reciprocal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.reciprocal" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute reciprocal measurements.</p>
<p class="rubric">Notes</p>
<p>The methods create an array where all positive index are normal
measurements and the reciprocal measurements are their negative
counterparts. This array is stored in the main dataframe <cite>Survey.df</cite>
in the columns <cite>irecip</cite>. Measurements with <cite>ìrecip=0</cite> are measurements
without reciprocal.</p>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.setType">
<code class="descname">setType</code><span class="sig-paren">(</span><em>stype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.setType" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the type of the survey.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stype</strong> : str</p>
<blockquote class="last">
<div><p>Type of the survey. Could also be infered using 
<cite>Survey.inferType()</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.shuntIndexes">
<code class="descname">shuntIndexes</code><span class="sig-paren">(</span><em>debug=True</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.shuntIndexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalise the indexes the sequence matrix to start at 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>debug: bool</strong></p>
<blockquote class="last">
<div><p>Set to True to print output.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.swapIndexes">
<code class="descname">swapIndexes</code><span class="sig-paren">(</span><em>old_indx</em>, <em>new_indx</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.swapIndexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the electrode number in a sequence matrix with another.
Survey dataframe is updated after running.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>old_idx: int</strong></p>
<blockquote>
<div><p>Electrode number(or index) to be replaced</p>
</div></blockquote>
<p><strong>new_idx: int</strong></p>
<blockquote class="last">
<div><p>Replacement electrode number</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.Survey.Survey.write2protocol">
<code class="descname">write2protocol</code><span class="sig-paren">(</span><em>outputname=''</em>, <em>errTyp='none'</em>, <em>errTot=False</em>, <em>ip=False</em>, <em>errTypIP='none'</em>, <em>res0=False</em><span class="sig-paren">)</span><a class="headerlink" href="#api.Survey.Survey.write2protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a protocol.dat file for R2 or cR2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outputname</strong> : str, optional</p>
<blockquote>
<div><p>Path of the output file.</p>
</div></blockquote>
<p><strong>errTyp</strong> : str, optional</p>
<blockquote>
<div><dl class="docutils">
<dt>If <cite>none</cite> no error columns will be added. Other options are <span class="classifier-delimiter">:</span> <span class="classifier"></span></dt>
<dd><p class="first last">‘lin’,’lme’,’pwl’or ‘obs’.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>errTot</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, the modelling error will be added to the error from the
error model to form the <em>total error</em>.</p>
</div></blockquote>
<p><strong>ip</strong> : bool, optional</p>
<blockquote>
<div><p>If <cite>True</cite> and IP columns will be added to the file.</p>
</div></blockquote>
<p><strong>errTypIP</strong> : str, optional</p>
<blockquote>
<div><p>Needs <cite>ip=True</cite> to be taken into account. Specify the string of
the error model to apply for IP data.</p>
</div></blockquote>
<p><strong>res0</strong> : bool, optional</p>
<blockquote>
<div><p>For time-lapse inversion, the background resistivity will be added 
if <cite>True</cite>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>protocol</strong> : pandas.DataFrame</p>
<blockquote class="last">
<div><p>Dataframe which contains the data for the <cite>protocol.dat</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-api.meshTools"></span><p>Created on Wed May 30 10:19:09 2018, python 3.6.5
&#64;author: jamyd91
Module handles mesh generation, display, discretisation and post processing. 
The convention for x y z coordinates is that the z coordinate is the elevation.</p>
<dl class="docutils">
<dt>Dependencies: </dt>
<dd>numpy (conda lib)
matplotlib (conda lib)
gmshWrap(pyR2 api module)
python3 standard libaries</dd>
</dl>
<dl class="class">
<dt id="api.meshTools.Mesh">
<em class="property">class </em><code class="descclassname">api.meshTools.</code><code class="descname">Mesh</code><span class="sig-paren">(</span><em>num_nodes</em>, <em>num_elms</em>, <em>node_x</em>, <em>node_y</em>, <em>node_z</em>, <em>node_id</em>, <em>elm_id</em>, <em>node_data</em>, <em>elm_centre</em>, <em>elm_area</em>, <em>cell_type</em>, <em>cell_attributes</em>, <em>atribute_title</em>, <em>original_file_path='N/A'</em>, <em>regions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Mesh class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>num_nodes</strong> : int</p>
<blockquote>
<div><p>number of nodes</p>
</div></blockquote>
<p><strong>num_elms</strong> : int</p>
<blockquote>
<div><p>number of elements</p>
</div></blockquote>
<p><strong>node_x</strong> : list, 1d numpy array</p>
<blockquote>
<div><p>x coordinates of nodes</p>
</div></blockquote>
<p><strong>node_y</strong> : list, 1d numpy array</p>
<blockquote>
<div><p>coordinates of nodes</p>
</div></blockquote>
<p><strong>node_z</strong> : list, 1d numpy array</p>
<blockquote>
<div><p>z coordinates of nodes</p>
</div></blockquote>
<p><strong>node_id</strong> : list</p>
<blockquote>
<div><p>node id number (ie 1,2,3,4,…)</p>
</div></blockquote>
<p><strong>elm_id</strong> : list</p>
<blockquote>
<div><p>element id number</p>
</div></blockquote>
<p><strong>node_data</strong> : list of lists of ints</p>
<blockquote>
<div><p>nodes of element vertices in the form [[node1],[node2],[node3],…], each
node id should be an integer type.</p>
</div></blockquote>
<p><strong>elm_centre</strong> : list of lists of floats</p>
<blockquote>
<div><p>centre of elements (x,y)</p>
</div></blockquote>
<p><strong>elm_area</strong> : list</p>
<blockquote>
<div><p>area of each element</p>
</div></blockquote>
<p><strong>cell_type</strong> : list of ints</p>
<blockquote>
<div><p>code referencing cell geometry (e.g. triangle) according to vtk format</p>
</div></blockquote>
<p><strong>cell_attributes</strong> : list of floats</p>
<blockquote>
<div><p>the values of the attributes given to each cell</p>
</div></blockquote>
<p><strong>atribute_title</strong> : string</p>
<blockquote>
<div><p>what is the attribute? we may use conductivity instead of resistivity for example</p>
</div></blockquote>
<p><strong>original_file_path</strong> : string, optional</p>
<blockquote>
<div><p>file path to where the mesh file was originally imported</p>
</div></blockquote>
<p><strong>regions</strong> : optional</p>
<blockquote>
<div><p>element indexes for a material in the mesh (needs further explanation)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Mesh</strong> : class</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="api.meshTools.Mesh.add_attr_dict">
<code class="descname">add_attr_dict</code><span class="sig-paren">(</span><em>attr_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.add_attr_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Mesh attributes are stored inside a dictionary, mesh.attr_cache.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>attr_dict: dict</strong></p>
<blockquote class="last">
<div><p>Each key in the dictionary should reference an array like of values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.add_attribute">
<code class="descname">add_attribute</code><span class="sig-paren">(</span><em>values</em>, <em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.add_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new attribute to mesh.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>values: array like</strong></p>
<blockquote>
<div><p>must have a length which matches the number of elements. Discrete 
values which map to the elements.</p>
</div></blockquote>
<p><strong>key: str</strong></p>
<blockquote class="last">
<div><p>Name of the attribute, this will be used to reference to the values
in other mesh functions.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.add_e_nodes">
<code class="descname">add_e_nodes</code><span class="sig-paren">(</span><em>e_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.add_e_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign node numbers to electrodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>e_nodes: array like</strong></p>
<blockquote class="last">
<div><p>array of ints which index the electrode nodes in a mesh</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.apply_func">
<code class="descname">apply_func</code><span class="sig-paren">(</span><em>mesh_paras</em>, <em>material_no</em>, <em>new_key</em>, <em>function</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.apply_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a function to a mesh by zone number and mesh parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mesh_paras</strong> : array like</p>
<blockquote>
<div><p>Mesh parameters from which new parameters are calculated.</p>
</div></blockquote>
<p><strong>material_no</strong> : array like of ints</p>
<blockquote>
<div><p>Material type assigned to each element, should be numbered consectively from 1 to n. in the form 1 : 1 : 2 : n.
…ie if you have 2 materials in the mesh then pass an array of ones and twos. zeros will be ignored.</p>
</div></blockquote>
<p><strong>new_key</strong> : string</p>
<blockquote>
<div><p>Key assigned to the parameter in the attr_cache. DOES NOT default.</p>
</div></blockquote>
<p><strong>function</strong> : function</p>
<blockquote>
<div><p>Function to be applied to mesh attributes, first argument must be the mesh parameter.</p>
</div></blockquote>
<p><strong>args</strong> : [see function info]</p>
<blockquote class="last">
<div><p>All arguments to be passed through function after to modify the mesh parameter,
… argument must be in the form of [(argA1,argB1),(argA2,argB2)], 
… where letters are the material, numbers refer to the argument number</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Mesh object will now have the new attribute added once the function is run.
Use the <cite>mesh.show()</cite> (or <cite>.draw()</cite>) function to see the result.</p>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.assign_zone">
<code class="descname">assign_zone</code><span class="sig-paren">(</span><em>poly_data</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.assign_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign material/region assocations with certain elements in the mesh 
say if you have an area you’d like to forward model. 
<strong>*2D ONLY*</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>poly_data</strong> : dictionary</p>
<blockquote>
<div><p>Dictionary with the vertices (x,y) of each point in the polygon.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>material_no</strong> : numpy.array</p>
<blockquote class="last">
<div><p>Element associations starting at 1. So 1 for the first region 
defined in the region_data variable, 2 for the second region 
defined and so on. If the element can’t be assigned to a region
then it’ll be left at 0.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.assign_zone_3D">
<code class="descname">assign_zone_3D</code><span class="sig-paren">(</span><em>volume_data</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.assign_zone_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign material/region assocations with certain elements in the mesh 
say if you have an area you’d like to forward model. 
<strong>*3D ONLY*</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>volume_data</strong> : dict</p>
<blockquote>
<div><p>Each key contains columns of polygon data for each volume in 
the form (polyx, polyy, polyz), the polygon data should be the 
face coordinates which bound the volume.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>material_no</strong> : numpy.array</p>
<blockquote class="last">
<div><p>Element associations starting at 1. So 1 for the first region 
defined in the region_data variable, 2 for the second region 
defined and so on. If the element can’t be assigned to a region
then it’ll be left at 0.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.assign_zone_attribute">
<code class="descname">assign_zone_attribute</code><span class="sig-paren">(</span><em>material_no</em>, <em>attr_list</em>, <em>new_key</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.assign_zone_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Asssigns values to the mesh which depend on region / material only. E.G 
a single resistivity value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>material_no</strong> : array or list</p>
<blockquote>
<div><p>Integers starting at 0 or 1, and ascend in intervals of 1, which 
correspond to a material in the mesh returned from assign_attr_ID.
Should have the same length as the number of elements in the mesh.</p>
</div></blockquote>
<p><strong>attr_list</strong> : list</p>
<blockquote>
<div><p>Values corresponding to a material number in the mesh. eg. if you had 3 regions in the mesh then you give
<cite>[resistivity1,resistivity2,resistivity3]</cite>.</p>
</div></blockquote>
<p><strong>new_key</strong> : string</p>
<blockquote class="last">
<div><p>Key identifier assigned to the attribute in the attr_cache.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Mesh object will now have the new attribute added once the function is run.
Use the <cite>mesh.show()</cite> (or <cite>.draw()</cite>) function to see the result.</p>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.computeElmDepth">
<code class="descname">computeElmDepth</code><span class="sig-paren">(</span><em>datum_x</em>, <em>datum_y</em>, <em>datum_z</em>, <em>method='bilinear'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.computeElmDepth" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the depth of elements given a datum (or surface).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>datum_x: array like</strong></p>
<blockquote>
<div><p>X coordinates of datum</p>
</div></blockquote>
<p><strong>datum_y: array like</strong></p>
<blockquote>
<div><p>Y coordinates of datum, if using 2D mesh then set to ‘None’</p>
</div></blockquote>
<p><strong>datum_z: array like</strong></p>
<blockquote>
<div><p>Elevation of datum</p>
</div></blockquote>
<p><strong>method: str, optional</strong></p>
<blockquote class="last">
<div><p>Method of interpolation used to compute cell depths for a 3D mesh.
Ignored for 2D meshes. 
- ‘bilinear’ - (default) binlinear interpolation
- ‘idw’ - inverse distance wieghting
- ‘nearest’ - nearest neighbour interpolation</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.draw">
<code class="descname">draw</code><span class="sig-paren">(</span><em>attr=None</em>, <em>edge_color='k'</em>, <em>color_map=None</em>, <em>color_bar=False</em>, <em>vmin=None</em>, <em>vmax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Redraws a mesh over a prexisting figure canvas, this is intended for saving
time when plotting each iteration of the resistivity inversion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>color_map</strong> : string, optional</p>
<blockquote>
<div><p>color map reference</p>
</div></blockquote>
<p><strong>color_bar</strong> : boolean, optional</p>
<blockquote>
<div><p><cite>True</cite> to plot colorbar</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib axis handle, optional</p>
<blockquote>
<div><p>Axis handle if preexisting (error will thrown up if not) figure is to be cast to.</p>
</div></blockquote>
<p><strong>edge_color</strong> : string, optional</p>
<blockquote>
<div><p>Color of the cell edges, set to <cite>None</cite> if you dont want an edge.</p>
</div></blockquote>
<p><strong>vmin</strong> : float, optional</p>
<blockquote>
<div><p>Minimum limit for the color bar scale.</p>
</div></blockquote>
<p><strong>vmax</strong> : float, optional</p>
<blockquote>
<div><p>Maximum limit for the color bar scale.</p>
</div></blockquote>
<p><strong>attr</strong> : string, optional</p>
<blockquote>
<div><p>Which attribute in the mesh to plot, references a dictionary of attributes. <cite>attr</cite> is passed 
as the key for this dictionary.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>figure</strong> : matplotlib figure</p>
<blockquote class="last">
<div><p>Figure handle for the plotted mesh object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="api.meshTools.Mesh.findParaview">
<em class="property">static </em><code class="descname">findParaview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.findParaview" title="Permalink to this definition">¶</a></dt>
<dd><p>Run on windows to find paraview.exe command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">found: bool</p>
<blockquote>
<div><p>If True the program was able to find where paraview is installed 
If false then the program could not find paraview in the default 
install locations.</p>
</div></blockquote>
<p>location: str</p>
<blockquote class="last">
<div><p>if found == True. The string maps to the paraview executable
if found == False. then ‘n/a’ is returned.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.meshTools.Mesh.mesh_dict2class">
<em class="property">classmethod </em><code class="descname">mesh_dict2class</code><span class="sig-paren">(</span><em>mesh_info</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.mesh_dict2class" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a mesh dictionary produced by the gmsh2r2mesh and
vtk_import functions into a mesh object, its an alternative way to
make a mesh object. 
<strong>*Intended for development use*</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mesh_info: dictionary</strong></p>
<blockquote>
<div><p>mesh parameters stored in a dictionary rather than a mesh, useful for debugging parsers</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Mesh: class</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.move_elec_nodes">
<code class="descname">move_elec_nodes</code><span class="sig-paren">(</span><em>new_x</em>, <em>new_y</em>, <em>new_z</em>, <em>debug=True</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.move_elec_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the electrodes to different nodes which are close to the given coordinates. 
This is useful for timelapse surveys where the electrodes move through time, 
ideally this is implimented on a mesh which is refined near the surface. If 
no nodes are assigned to mesh, a mesh.e_nodes variable is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>new_x</strong> : array like</p>
<blockquote>
<div><p>new electrode x coordinates</p>
</div></blockquote>
<p><strong>new_y</strong> : array like</p>
<blockquote>
<div><p>new electrode y coordinates, if 2D mesh let new_y=None and the array will automatically be
assigned an array of zeros.</p>
</div></blockquote>
<p><strong>new_z</strong> : array-like</p>
<blockquote>
<div><p>new electrode z coordinates</p>
</div></blockquote>
<p><strong>debug</strong> : bool, optional</p>
<blockquote>
<div><p>Controls if any changes to electrode nodes will be output to console.</p>
</div></blockquote>
<p><strong>Returns</strong></p>
<p><strong>————</strong></p>
<p><strong>node_in_mesh</strong> : np array</p>
<blockquote class="last">
<div><p>Array of mesh node numbers corresponding to the electrode postions/
coordinates.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Mesh.e_nodes parameter is updated (or added) after running function.</p>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.paraview">
<code class="descname">paraview</code><span class="sig-paren">(</span><em>fname='pyR2_mesh.vtk'</em>, <em>loc=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.paraview" title="Permalink to this definition">¶</a></dt>
<dd><p>Show mesh in paraview</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname: str,optional</strong></p>
<blockquote>
<div><p>A vtk file will be written to working directory and then displayed 
using paraview.</p>
</div></blockquote>
<p><strong>loc: str, optional</strong></p>
<blockquote class="last">
<div><p>Path to paraview excutable, ignored if not using windows. If not provided
the program will attempt to find where paraview is installed automatically.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.reciprocal">
<code class="descname">reciprocal</code><span class="sig-paren">(</span><em>attr='Resistivity'</em>, <em>new_key='Conductivity'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.reciprocal" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute reciprocal for a given attribute (ie 1 over that number)
Example is Resistivity to conductivty conversion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>attr: string</strong></p>
<blockquote>
<div><p>mesh attribute to compute reciprocal of</p>
</div></blockquote>
<p><strong>new_key: string</strong></p>
<blockquote class="last">
<div><p>name of new attribute,</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>color_map='Spectral'</em>, <em>color_bar=True</em>, <em>xlim='default'</em>, <em>zlim='default'</em>, <em>ax=None</em>, <em>electrodes=True</em>, <em>sens=False</em>, <em>edge_color='k'</em>, <em>contour=False</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>attr=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays a 2d mesh and attribute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>color_map</strong> : string, optional</p>
<blockquote>
<div><p>color map reference</p>
</div></blockquote>
<p><strong>color_bar</strong> : Boolean, optional</p>
<blockquote>
<div><p><cite>True</cite> to plot colorbar</p>
</div></blockquote>
<p><strong>xlim</strong> : tuple, optional</p>
<blockquote>
<div><p>Axis x limits as <cite>(xmin, xmax)</cite>.</p>
</div></blockquote>
<p><strong>zlim</strong> : tuple, optional</p>
<blockquote>
<div><p>Axis z limits as <cite>(zmin, zmax)</cite>.</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib axis handle, optional</p>
<blockquote>
<div><p>Axis handle if preexisting (error will thrown up if not) figure is to be cast to.</p>
</div></blockquote>
<p><strong>electrodes</strong> : boolean, optional</p>
<blockquote>
<div><p>Enter true to add electrodes to plot.</p>
</div></blockquote>
<p><strong>sens</strong> : boolean, optional</p>
<blockquote>
<div><p>Enter true to plot sensitivities.</p>
</div></blockquote>
<p><strong>edge_color</strong> : string, optional</p>
<blockquote>
<div><p>Color of the cell edges, set to <cite>None</cite> if you dont want an edge.</p>
</div></blockquote>
<p><strong>contour</strong> : boolean, optional</p>
<blockquote>
<div><p>If <cite>True</cite>, plot filled with contours instead of the mesh.</p>
</div></blockquote>
<p><strong>vmin</strong> : float, optional</p>
<blockquote>
<div><p>Minimum limit for the color bar scale.</p>
</div></blockquote>
<p><strong>vmax</strong> : float, optional</p>
<blockquote>
<div><p>Maximum limit for the color bar scale.</p>
</div></blockquote>
<p><strong>attr</strong> : string, optional</p>
<blockquote>
<div><p>Which attribute in the mesh to plot, references a dictionary of attributes. attr is passed 
as the key for this dictionary.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>figure</strong> : matplotlib figure</p>
<blockquote class="last">
<div><p>Figure handle for the plotted mesh object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Show a mesh object using matplotlib. The color map variable should be 
a string refering to the color map you want (default is “jet”).
As we’re using the matplotlib package here any color map avialable within 
matplotlib package can be used to display the mesh here also. See: 
<a class="reference external" href="https://matplotlib.org/2.0.2/examples/color/colormaps_reference.html">https://matplotlib.org/2.0.2/examples/color/colormaps_reference.html</a></p>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.showSlice">
<code class="descname">showSlice</code><span class="sig-paren">(</span><em>attr='Resistivity(log10)'</em>, <em>axis='z'</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.showSlice" title="Permalink to this definition">¶</a></dt>
<dd><p>Show 3D mesh slice.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>attr</strong> : str, optional</p>
<blockquote>
<div><p>String the of the variable to plot. Default is <cite>Resistivity(log10)</cite>.</p>
</div></blockquote>
<p><strong>axis</strong> : str, optional</p>
<blockquote>
<div><p>Axis to be sliced either, x, y or z.</p>
</div></blockquote>
<p><strong>vmin</strong> : float, optional</p>
<blockquote>
<div><p>Minimum value for colorbar.</p>
</div></blockquote>
<p><strong>vmax</strong> : float, optional</p>
<blockquote>
<div><p>Maximum value for colorbar.</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib.Axis</p>
<blockquote class="last">
<div><p>If provided, plot will be drawn on this axis.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.show_3D">
<code class="descname">show_3D</code><span class="sig-paren">(</span><em>color_map='Spectral'</em>, <em>color_bar=True</em>, <em>xlim='default'</em>, <em>ylim='default'</em>, <em>zlim='default'</em>, <em>ax=None</em>, <em>electrodes=True</em>, <em>sens=False</em>, <em>edge_color='k'</em>, <em>alpha=1</em>, <em>vmax=None</em>, <em>vmin=None</em>, <em>attr=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.show_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows a 3D tetrahedral mesh.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>color_map</strong> : string, optional</p>
<blockquote>
<div><p>color map reference</p>
</div></blockquote>
<p><strong>color_bar</strong> : Boolean, optional</p>
<blockquote>
<div><p><cite>True</cite> to plot colorbar</p>
</div></blockquote>
<p><strong>xlim</strong> : tuple, optional</p>
<blockquote>
<div><p>Axis x limits as <cite>(xmin, xmax)</cite>.</p>
</div></blockquote>
<p><strong>ylim</strong> : tuple, optional</p>
<blockquote>
<div><p>Axis y limits as <cite>(ymin, ymax)</cite>.</p>
</div></blockquote>
<p><strong>zlim</strong> : tuple, optional</p>
<blockquote>
<div><p>Axis z limits as <cite>(ymin, ymax)</cite>.</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib axis handle, optional</p>
<blockquote>
<div><p>Axis handle if preexisting (error will thrown up if not) figure is to be cast to.</p>
</div></blockquote>
<p><strong>electrodes</strong> : boolean, optional</p>
<blockquote>
<div><p>Enter true to add electrodes to plot (if available in mesh class)</p>
</div></blockquote>
<p><strong>sens</strong> : boolean, optional</p>
<blockquote>
<div><p>Enter true to plot sensitivities (if available in mesh class). Note that for 3D this doesnt work so well.</p>
</div></blockquote>
<p><strong>edge_color</strong> : string, optional</p>
<blockquote>
<div><p>Color of the cell edges, set to <cite>None</cite> if you dont want an edge.</p>
</div></blockquote>
<p><strong>alpha: float, optional</strong></p>
<blockquote>
<div><p>Should be set between 0 and 1. Sets a transparancy value for the element faces.</p>
</div></blockquote>
<p><strong>vmin</strong> : float, optional</p>
<blockquote>
<div><p>Minimum limit for the color bar scale.</p>
</div></blockquote>
<p><strong>vmax</strong> : float, optional</p>
<blockquote>
<div><p>Maximum limit for the color bar scale.</p>
</div></blockquote>
<p><strong>attr</strong> : string, optional</p>
<blockquote>
<div><p>Which attribute in the mesh to plot, references a dictionary of attributes. attr is passed 
as the key for this dictionary.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>figure</strong> : matplotlib figure</p>
<blockquote class="last">
<div><p>Figure handle for the plotted mesh object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Show a mesh object using matplotlib. The color map variable should be 
a string refering to the color map you want (default is “jet”).
As we’re using the matplotlib package here any color map avialable within 
matplotlib package can be used to display the mesh here also. See: 
<a class="reference external" href="https://matplotlib.org/2.0.2/examples/color/colormaps_reference.html">https://matplotlib.org/2.0.2/examples/color/colormaps_reference.html</a></p>
<p>Plotting sensitivies using sens=True is not reccomended. The matplotlib renderer has trouble with it.</p>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.show_avail_attr">
<code class="descname">show_avail_attr</code><span class="sig-paren">(</span><em>flag=True</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.show_avail_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Show available attributes in mesh.attr_cache.</p>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.summary">
<code class="descname">summary</code><span class="sig-paren">(</span><em>flag=True</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints summary information about the mesh</p>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.update_attribute">
<code class="descname">update_attribute</code><span class="sig-paren">(</span><em>new_attributes</em>, <em>new_title='default'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.update_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows you to reassign the default cell attribute in the mesh object.</p>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.write_attr">
<code class="descname">write_attr</code><span class="sig-paren">(</span><em>attr_key</em>, <em>file_name='_res.dat'</em>, <em>file_path='default'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.write_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a attribute to a _res.dat type file. file_name entered
seperately because it will be needed for the R2 config file.
The reason for this function is so you can write a forward model 
parameter input file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>attr_key</strong> : string</p>
<blockquote>
<div><p>Key identifying the attr to be written in the mesh object attr_cache.</p>
</div></blockquote>
<p><strong>file_name</strong> : string, optional</p>
<blockquote>
<div><p>Name of the _res.dat type file.</p>
</div></blockquote>
<p><strong>file_path</strong> : string, optional</p>
<blockquote class="last">
<div><p>Directory to which the file will be saved in, if left as none then the
file will be written in the current working directory.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.write_dat">
<code class="descname">write_dat</code><span class="sig-paren">(</span><em>file_path='mesh.dat'</em>, <em>param=None</em>, <em>zone=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.write_dat" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a mesh.dat kind of file for mesh input for R2. R2 takes a mesh
input file for triangle meshes, so this function is only relevant for
triangle meshes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path</strong> : string, optional</p>
<blockquote>
<div><p>Path to the file. By default ‘mesh.dat’ is saved in the working directory.</p>
</div></blockquote>
<p><strong>zone</strong> : array like, optional</p>
<blockquote>
<div><p>An array of integers which are assocaited with regions/materials in the mesh. 
Useful in the case of an inversion which has a boundary constraint. 
You can use assign_zone to give a zone/material number to the mesh, and pass that 
as the zone argument.</p>
</div></blockquote>
<p><strong>param</strong> : array-like, optional</p>
<blockquote class="last">
<div><p>Array of parameter number. Set a parameter number to zero fixed its
conductivity to the starting conductivity.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>mesh.dat like file written to file path. 
<strong>*IMPORTANT*</strong>
R2/FORTRAN indexing starts at one, in python indexing natively starts at 0
so when writing mesh.dat we need to check that the node indexes match up correctly.</p>
</dd></dl>

<dl class="method">
<dt id="api.meshTools.Mesh.write_vtk">
<code class="descname">write_vtk</code><span class="sig-paren">(</span><em>file_path='mesh.vtk'</em>, <em>title=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.Mesh.write_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a vtk file for the mesh object, everything in the attr_cache
will be written to file as attributes. We suggest using Paraview 
to display the mesh outside of pyR2. It’s fast and open source :).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path</strong> : string, optional</p>
<blockquote>
<div><p>Maps where python will write the file, if left as <cite>default</cite> then mesh.vtk
will be written the current working directory.</p>
</div></blockquote>
<p><strong>title</strong> : string, optional</p>
<blockquote>
<div><p>Header string written at the top of the vtk file .</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">vtk: file</p>
<blockquote class="last">
<div><p>vtk file written to specified directory.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="api.meshTools.custom_mesh_import">
<code class="descclassname">api.meshTools.</code><code class="descname">custom_mesh_import</code><span class="sig-paren">(</span><em>file_path</em>, <em>node_pos=None</em>, <em>flag_3D=False</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.custom_mesh_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Import user defined mesh, currently supports .msh, .vtk and .dat (native to R2/3t)
format for quad, triangular and tetrahedral meshes. The type of file is guessed from the 
extension given to the code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path: string</strong></p>
<blockquote>
<div><p>Path to file.</p>
</div></blockquote>
<p><strong>node_pos: array like, optional</strong></p>
<blockquote>
<div><p>Array of ints referencing the electrode nodes. If left as none no electrodes 
will be added to the mesh class. Consider using mesh.move_elec_nodes()
to add nodes to mesh using their xyz coordinates.</p>
</div></blockquote>
<p><strong>flag_3D: bool, optional</strong></p>
<blockquote>
<div><p>Make this true for 3D meshes if importing .msh type.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">mesh: class</p>
<blockquote class="last">
<div><p>mesh class used in pyR2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.dat_import">
<code class="descclassname">api.meshTools.</code><code class="descname">dat_import</code><span class="sig-paren">(</span><em>file_path='mesh.dat'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.dat_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Import R2/cR2/R3t/cR3t .dat kind of mesh.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path: str</strong></p>
<blockquote>
<div><p>Maps to the mesh (.dat) file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">mesh: class</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.points2vtk">
<code class="descclassname">api.meshTools.</code><code class="descname">points2vtk</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em>, <em>file_name='points.vtk'</em>, <em>title='points'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.points2vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Function makes a .vtk file for some xyz coordinates. optional argument
renames the name of the file (needs file path also) (default is “points.vtk”). 
title is the name of the vtk file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : list, tuple, np array</p>
<blockquote>
<div><p>X coordinates of points.</p>
</div></blockquote>
<p><strong>y</strong> : list, tuple, np array</p>
<blockquote>
<div><p>Y coordinates of points.</p>
</div></blockquote>
<p><strong>z</strong> : list, tuple, np array</p>
<blockquote>
<div><p>Z coordinates of points.</p>
</div></blockquote>
<p><strong>file_name</strong> : string, optional</p>
<blockquote>
<div><p>Path to saved file, defualts to ‘points.vtk’ in current working directory.</p>
</div></blockquote>
<p><strong>title</strong> : string, optional</p>
<blockquote>
<div><p>Title of vtk file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>~.vtk</strong> : file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.quad_mesh">
<code class="descclassname">api.meshTools.</code><code class="descname">quad_mesh</code><span class="sig-paren">(</span><em>elec_x</em>, <em>elec_z</em>, <em>elec_type=None</em>, <em>elemx=4</em>, <em>xgf=1.5</em>, <em>yf=1.1</em>, <em>ygf=1.25</em>, <em>doi=-1</em>, <em>pad=2</em>, <em>surface_x=None</em>, <em>surface_z=None</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.quad_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a quaderlateral mesh given the electrode x and y positions. Function
relies heavily on the numpy package.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>elec_x</strong> : list, np array</p>
<blockquote>
<div><p>Electrode x coordinates</p>
</div></blockquote>
<p><strong>elec_z</strong> : list, np array</p>
<blockquote>
<div><p>Electrode y coordinates</p>
</div></blockquote>
<p><strong>elec_type: list, optional</strong></p>
<blockquote>
<div><p>strings, where ‘electrode’ is a surface electrode; ‘buried’ is a buried electrode</p>
</div></blockquote>
<p><strong>elemy</strong> : int, optional</p>
<blockquote>
<div><p>Number of elements in the fine y region</p>
</div></blockquote>
<p><strong>yf</strong> : float, optional</p>
<blockquote>
<div><p>Y factor multiplier in the fine zone.</p>
</div></blockquote>
<p><strong>ygf</strong> : float, optional</p>
<blockquote>
<div><p>Y factor multiplier in the coarse zone.</p>
</div></blockquote>
<p><strong>doi</strong> : float (m), optional</p>
<blockquote>
<div><p>Depth of investigation (if left as -1 = half survey width).</p>
</div></blockquote>
<p><strong>pad</strong> : int, optional</p>
<blockquote>
<div><p>X padding outside the fine area (tipicaly twice the number of elements between electrodes).</p>
</div></blockquote>
<p><strong>surface_x: array like, optional</strong></p>
<blockquote>
<div><p>Default is None. x coordinates of extra surface topography points for the generation of topography in the quad mesh</p>
</div></blockquote>
<p><strong>surface_y: array like, optional</strong></p>
<blockquote>
<div><p>Default is None. y coordinates of extra surface topography points for the generation of topography in the quad mesh. Note
an error will be returned if len(surface_x) != len(surface_y)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Mesh</strong> : class</p>
<blockquote>
<div><p>Mesh object</p>
</div></blockquote>
<p><strong>meshx</strong> : numpy.array</p>
<blockquote>
<div><p>Mesh x locations for R2in file.</p>
</div></blockquote>
<p><strong>meshy</strong> : numpy.array</p>
<blockquote>
<div><p>Mesh y locations for R2in file (ie node depths).</p>
</div></blockquote>
<p><strong>topo</strong> : numpy.array</p>
<blockquote>
<div><p>Topography for R2in file.</p>
</div></blockquote>
<p><strong>elec_node</strong> : numpy.array</p>
<blockquote class="last">
<div><p>x columns where the electrodes are.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.readR2_resdat">
<code class="descclassname">api.meshTools.</code><code class="descname">readR2_resdat</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.readR2_resdat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads resistivity values in f00#_res.dat file output from R2.(2D only)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path</strong> : string</p>
<blockquote>
<div><p>Maps to the _res.dat file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>res_values</strong> : list of floats</p>
<blockquote class="last">
<div><p>Resistivity values returned from the .dat file.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.readR2_sensdat">
<code class="descclassname">api.meshTools.</code><code class="descname">readR2_sensdat</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.readR2_sensdat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads sensitivity values in _sens.dat file output from R2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path</strong> : string</p>
<blockquote>
<div><p>Maps to the _sens.dat file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>res_values</strong> : list of floats</p>
<blockquote class="last">
<div><p>Sensitivity values returned from the .dat file (not log10!).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.systemCheck">
<code class="descclassname">api.meshTools.</code><code class="descname">systemCheck</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.systemCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a simple diagnostic of the system, no input commands needed. System
info is printed to screen, number of CPUs, memory and OS. This check is 
useful for parallel processing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">system_info: dict</p>
<blockquote class="last">
<div><p>Dictionary keys refer information about the system</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.tetra_mesh">
<code class="descclassname">api.meshTools.</code><code class="descname">tetra_mesh</code><span class="sig-paren">(</span><em>elec_x</em>, <em>elec_y</em>, <em>elec_z=None</em>, <em>elec_type=None</em>, <em>keep_files=True</em>, <em>interp_method='bilinear'</em>, <em>surface_refinement=None</em>, <em>mesh_refinement=None</em>, <em>show_output=True</em>, <em>path='exe'</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>whole_space=False</em>, <em>padding=20</em>, <em>search_radius=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.tetra_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a tetrahedral mesh for R3t (with topography). returns mesh3d.dat 
in the working directory. This function expects the current working directory 
has path: exe/gmsh.exe.</p>
<p>Uses post processing after mesh generation to super impose topography on to 
a flat 3D tetrahedral mesh.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>elec_x: array like</strong></p>
<blockquote>
<div><p>electrode x coordinates</p>
</div></blockquote>
<p><strong>elec_y: array like</strong></p>
<blockquote>
<div><p>electrode y coordinates</p>
</div></blockquote>
<p><strong>elec_z: array like</strong></p>
<blockquote>
<div><p>electrode z coordinates</p>
</div></blockquote>
<p><strong>elec_type: list of strings, optional</strong></p>
<blockquote>
<div><p>type of electrode see Notes in genGeoFile in gmshWrap.py for the format of this list</p>
</div></blockquote>
<p><strong>keep_files</strong> : boolean, optional</p>
<blockquote>
<div><p><cite>True</cite> if the gmsh input and output file is to be stored in the working directory.</p>
</div></blockquote>
<p><strong>interp_method: string, default =’bilinear’ optional</strong></p>
<blockquote>
<div><p>Interpolation method to translate mesh nodes in the z direction. In other words the method in which topography 
is appended to the mesh. Here the topography is added to the mesh in post processing. 
The options are inverse wieghting distance, bilinear interpolation or nearest neighbour. 
if == ‘idw’: then provide search_radius.</p>
</div></blockquote>
<p><strong>surface_refinement</strong> : np.array, optional</p>
<blockquote>
<div><p>Numpy array of shape (3,n), should follow the format np.array([x1,x2,x3,…],[y1,y2,y3,…],[z1,z2,z3,…]).
Allows for extra refinement for the top surface of the mesh. The points are not added to the mesh, but 
considered in post processing in order to super impose topography on the mesh.</p>
</div></blockquote>
<p><strong>mesh_refinement</strong> : np.array, optional</p>
<blockquote>
<div><p>Coming soon …</p>
</div></blockquote>
<p><strong>show_ouput</strong> : boolean, optional</p>
<blockquote>
<div><p><cite>True</cite> if gmsh output is to be printed to console.</p>
</div></blockquote>
<p><strong>path</strong> : string, optional</p>
<blockquote>
<div><p>Path to exe folder (leave default unless you know what you are doing).</p>
</div></blockquote>
<p><strong>whole_space: boolean, optional</strong></p>
<blockquote>
<div><p>flag for if the problem should be treated as a whole space porblem, in which case 
electrode type is ingored and all electrodes are buried in the middle of a large mesh.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote>
<div><p>Function to which pass the output during mesh generation. <cite>print()</cite> is
the default.</p>
</div></blockquote>
<p><strong>padding</strong> : float, optional</p>
<blockquote>
<div><p>amount of % the fine mesh region will be extended beyond the extent of the electrode positions</p>
</div></blockquote>
<p><strong>search_radius: float, None, optional</strong></p>
<blockquote>
<div><p>Defines search radius used in the inverse distance weighting interpolation. 
If None then no search radius will be used and all points will be considered in the interpolation.</p>
</div></blockquote>
<p><strong>**kwargs</strong> : optional</p>
<blockquote>
<div><p>Key word arguments to be passed to box_3d.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">mesh3d: class</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.tri_cent">
<code class="descclassname">api.meshTools.</code><code class="descname">tri_cent</code><span class="sig-paren">(</span><em>p</em>, <em>q</em>, <em>r</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.tri_cent" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the centre coordinates for a 2d triangle given the x,y coordinates 
of the vertices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : tuple,list,np array</p>
<blockquote>
<div><p>Coordinates of triangle vertices in the form (x,y).</p>
</div></blockquote>
<p><strong>q</strong> : tuple,list,np array</p>
<blockquote>
<div><p>Coordinates of triangle vertices in the form (x,y).</p>
</div></blockquote>
<p><strong>r</strong> : tuple,list,np array</p>
<blockquote>
<div><p>Coordinates of triangle vertices in the form (x,y).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>coordinates</strong> : tuple</p>
<blockquote class="last">
<div><p>In the format (x,y).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.tri_mesh">
<code class="descclassname">api.meshTools.</code><code class="descname">tri_mesh</code><span class="sig-paren">(</span><em>elec_x</em>, <em>elec_z</em>, <em>elec_type=None</em>, <em>geom_input=None</em>, <em>keep_files=True</em>, <em>show_output=True</em>, <em>path='exe'</em>, <em>dump=&lt;built-in function print&gt;</em>, <em>whole_space=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.tri_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a triangular mesh for r2. Returns mesh class …
this function expects the current working directory has path: exe/gmsh.exe.
Uses gmsh version 3.0.6.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>elec_x: array like</strong></p>
<blockquote>
<div><p>electrode x coordinates</p>
</div></blockquote>
<p><strong>elec_z: array like</strong></p>
<blockquote>
<div><p>electrode y coordinates</p>
</div></blockquote>
<p><strong>elec_type: list of strings, optional</strong></p>
<blockquote>
<div><p>List should be the same length as the electrode coordinate argument. Each entry in
the list references the type of electrode: 
- ‘electrode’ = surface electrode coordinate, will be used to construct the topography in the mesh
- ‘buried’ = buried electrode, placed the mesh surface
- ‘borehole’ = borehole electrode, electrodes will be placed in the mesh with a line connecting them. 
borehole numbering starts at 1 and ascends numerically by 1.</p>
</div></blockquote>
<p><strong>geom_input</strong> : dict, optional</p>
<blockquote>
<div><p>Allows for further customisation of the 2D mesh, its a
dictionary contianing surface topography, polygons and boundaries</p>
</div></blockquote>
<p><strong>keep_files</strong> : boolean, optional</p>
<blockquote>
<div><p><cite>True</cite> if the gmsh input and output file is to be stored in the exe directory.</p>
</div></blockquote>
<p><strong>show_ouput</strong> : boolean, optional</p>
<blockquote>
<div><p><cite>True</cite> if gmsh output is to be printed to console.</p>
</div></blockquote>
<p><strong>path</strong> : string, optional</p>
<blockquote>
<div><p>Path to exe folder (leave default unless you know what you are doing).</p>
</div></blockquote>
<p><strong>whole_space: boolean, optional</strong></p>
<blockquote>
<div><p>flag for if the problem should be treated as a whole space porblem, in which case 
electrode type is ingored and all electrodes are buried in the middle of a large mesh.</p>
</div></blockquote>
<p><strong>dump</strong> : function, optional</p>
<blockquote>
<div><p>Function to which pass the output during mesh generation. <cite>print()</cite> is
the default.</p>
</div></blockquote>
<p><strong>**kwargs</strong> : optional</p>
<blockquote>
<div><p>Key word arguments to be passed to genGeoFile.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">mesh: class</p>
<blockquote class="last">
<div><p>&lt;pyR2&gt; mesh class</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>geom_input format:</dt>
<dd><p class="first">the code will cycle through numerically ordered keys (strings referencing objects in a dictionary”),
currently the code expects a ‘surface’ and ‘electrode’ key for surface points and electrodes.
the first borehole string should be given the key ‘borehole1’ and so on. The code stops
searching for more keys when it cant find the next numeric key. Same concept goes for adding boundaries
and polygons to the mesh. See below example:</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>geom_input = {‘surface’: [surf_x,surf_z],</dt>
<dd>‘boundary1’:[bound1x,bound1y],
‘polygon1’:[poly1x,poly1y]}</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<p>electrodes and electrode_type (if not None) format:</p>
<blockquote>
<div><blockquote>
<div>electrodes = [[x1,x2,x3,…],[y1,y2,y3,…]]
electrode_type = [‘electrode’,’electrode’,’buried’,…]</div></blockquote>
<p>like with geom_input, boreholes should be labelled borehole1, borehole2 and so on.
The code will cycle through each borehole and internally sort them and add them to 
the mesh.</p>
</div></blockquote>
<p>The code expects that all polygons, boundaries and electrodes fall within x values 
of the actaul survey area. So make sure your topography / surface electrode points cover 
the area you are surveying, otherwise some funky errors will occur in the mesh.</p>
</dd></dl>

<dl class="function">
<dt id="api.meshTools.vtk_import">
<code class="descclassname">api.meshTools.</code><code class="descname">vtk_import</code><span class="sig-paren">(</span><em>file_path='mesh.vtk'</em>, <em>parameter_title='default'</em><span class="sig-paren">)</span><a class="headerlink" href="#api.meshTools.vtk_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports a mesh file into the python workspace, can have triangular, quad or tetraheral shaped elements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path</strong> : string, optional</p>
<blockquote>
<div><p>File path to mesh file. Note that a error will occur if the file format is not as expected.</p>
</div></blockquote>
<p><strong>parameter_title</strong> : string, optional</p>
<blockquote>
<div><p>Name of the parameter table in the vtk file, if left as default the first look up table found will be returned 
also note that all parameters will be imported. Just the title highlights which one the mesh object will use as 
default cell attribute.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mesh</strong> : class</p>
<blockquote class="last">
<div><p>a &lt;pyR2&gt; mesh class</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to pyR2’s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">pyR2 v0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, G. Blanchy, S. Saneiyan, J. Boyd.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.3.
    </div>
  </body>
</html>